!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}PIXI.filters.MyFilter=function(e){function t(){return s(this,t),o(this,r(t).call(this,null,"\nprecision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform float time;\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform sampler2D disp;\nuniform vec2 ratio;\nuniform float dispFactor;\nuniform float intensity;\n\nvoid main(void) {\n\n    //ウィンドウにアス比を守りつつフィット\n    vec2 uv = vec2(\n    vTextureCoord.x * ratio.x + (1.0 - ratio.x) * 0.5,\n    vTextureCoord.y * ratio.y + (1.0 - ratio.y) * 0.5\n    );\n\n    vec4 disp = texture2D(disp, uv);\n\n    vec2 distortedPosition = vec2(uv.x + dispFactor * (disp.r * intensity), uv.y + dispFactor * (disp.r * intensity));\n    vec2 distortedPosition2 = vec2(uv.x - (1.0 - dispFactor) * (disp.r * intensity), uv.y - (1.0 - dispFactor) * (disp.r * intensity));\n\n    vec4 _texture1 = texture2D(texture1, distortedPosition);\n    vec4 _texture2 = texture2D(texture2, distortedPosition2);\n\n    vec4 finalTexture = mix(_texture1, _texture2, dispFactor);\n\n    gl_FragColor = finalTexture;\n}",{texture1:null,texture2:null,disp:null,dispFactor:0,ratio:null,intensity:0}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,PIXI.Filter),t}();var l=function(){function e(){s(this,e),this.app={},this.myFilter=new PIXI.filters.MyFilter,this.graphics=new PIXI.Graphics,this.slideTL={},this.blocKIndex=Math.floor(Math.random()*window.slideData.length),this.slideData=window.slideData,this.inLoading=!1,this.nrw=window.innerWidth<=768,this.resizeTimer=null,this.isMobile=navigator.userAgent.match(/iPhone|iPad|Android/),this.init()}var t,i,a;return t=e,(i=[{key:"init",value:function(){PIXI.utils.isWebGLSupported()?this.initPixi():this.onInitError()}},{key:"onInitError",value:function(){$(".l-supportenv").addClass("-active"),$(".loader").removeClass("-active"),$(".main__ttl,.l-footer").addClass("-active")}},{key:"initPixi",value:function(){var e=this;this.app=new PIXI.Application({view:document.querySelector("#js-canvas")}),this.app.stage.addChild(this.graphics),this.setFullscreenCanvas(),this.isMobile?window.addEventListener("orientationchange",(function(){e.setFullscreenCanvas()})):window.addEventListener("resize",(function(){e.setFullscreenCanvas()})),this.loadAssets()}},{key:"loadAssets",value:function(){for(var e=this,t=this.nrw?"_nrw.jpg":".jpg",i=PIXI.Loader.shared,a=this.slideData[this.blocKIndex],n=0;n<a.img.length;n++){var s=a.blockID+(n+1);i.add(s,a.img[n]+t),i.add(s+"_voice",a.voice[n])}i.add("disp","https://lance70176.github.io/5th-fate-go/assets/img/filter/disp.jpg"),i.add("intro_voice","https://lance70176.github.io/5th-fate-go/reward/voice/intro_c63gvex9.mp3"),i.on("progress",(function(t){e.onProgress(t)})),i.load((function(t,i){e.onComplete(t,i)}))}},{key:"loadNextBlockAssets",value:function(e){var t=this;this.inLoading=!0;for(var i=this.nrw?"_nrw.jpg":".jpg",a=PIXI.Loader.shared,n=this.slideData[e],s=0;s<n.img.length;s++){var o=n.blockID+(s+1);a.resources[o]||(a.add(o,n.img[s]+i),a.add(o+"_voice",n.voice[s]))}a.on("progress",(function(e){t.onProgress(e)})),a.load((function(e,i){t.inLoading=!1}))}},{key:"onProgress",value:function(e){var t=e.progress/100;$(".l-canvas_progress").css("transform","scaleX("+t+")")}},{key:"onComplete",value:function(e,t){setTimeout((function(){$(".l-canvas_progress").addClass("-complete")}),500);var i=this.myFilter,a=this.app,n=this.myFilter.uniforms,s=this.slideTL,o=0,r=this.slideData[this.blocKIndex],c=r.img.length,l=1,d=this.nrw?1:1.5,u=this;function v(){$(".main__preftxt__item").removeClass("-active");for(var e=r.caption,t=o==c?0:o,i=0;i<3;i++)$(".main__preftxt__item__txt").eq(i).html(e[t][i]),""==e[t][i]?$(".main__preftxt__item").eq(i).addClass("-disable"):$(".main__preftxt__item").eq(i).removeClass("-disable");$(".main__preftxt").attr("data-id",e[t][3])}function _(){(s=new TimelineMax({onComplete:h})).to(".l-canvas_overlay",.1,{opacity:0},0),s.to(n,d,{dispFactor:l,ease:Circ.easeInOut,onComplete:function(){o++,n.texture1=t[r.blockID+"2"].texture,l=0}},0)}function h(){if(u.inLoading&&0===o)return console.log("loading now..."),setTimeout(h,2e3);if(1===o){var e=u.blocKIndex+1;e>u.slideData.length-1&&(e=0),u.loadNextBlockAssets(e)}if((s=new TimelineMax({onComplete:h})).to(".l-canvas_overlay",6,{opacity:1,ease:Power1.easeIn},0),s.to(".l-canvas_overlay",2,{opacity:0},6),s.to(".main__preftxt__item__txt",.5,{opacity:0},6),s.to(".main__preftxt__item__txt",.1,{opacity:1},8),0===o){var i=0===u.blocKIndex?u.slideData.length-1:u.blocKIndex-1,a=u.slideData[i];t[a.blockID+a.img.length+"_voice"].sound.play()}else t[r.blockID+o+"_voice"].sound.play();s.call((function(){v()}),null,6.5),s.call((function(){$(".main__preftxt__item").addClass("-active")}),null,7.5),s.to(n,d,{dispFactor:l,ease:Circ.easeInOut,onComplete:function(){++o>=c&&(u.blocKIndex===u.slideData.length-1?u.blocKIndex=0:u.blocKIndex++,r=u.slideData[u.blocKIndex],c=r.img.length,o=0);var e=o+1;1==l?(l=0,n.texture1=t[r.blockID+e].texture):(l=1,n.texture2=t[r.blockID+e].texture)}},6)}n.texture1=null,n.texture2=t[r.blockID+"1"].texture,n.disp=t.disp.texture,n.intensity=this.nrw?.3:.2,n.ratio=this.calcRatio(),a.stage.filters=[i],$(".sound_select").addClass("-active"),$(".js-sound_select").on("click",(function(){var e=!1;$(".sound_select").removeClass("-active"),"1"===$(this).attr("data-mute")&&($(".js-mutevoice").addClass("-mute"),window.userSoundOff=!0,window.isMute=!0,PIXI.sound.muteAll(),e=!0),function(e){var i=new TimelineMax({});if($(".sound_select").addClass("-hide").remove(),$(".js-loader__skip").on("click",(function(){PIXI.sound.stopAll(),i.clear(),v(),_(),$(".loader").removeClass("-active"),$(".js-screenobj").addClass("-active"),$("body,html").removeClass("-inmodal"),setTimeout((function(){$(".js-bnr").addClass("-active")}),2e3)})),Cookies.get("visited"))$(".sound_select").addClass("-hide"),$(".loader").removeClass("-active").addClass("-hide"),$(".js-screenobj").addClass("-active"),setTimeout((function(){$(".js-bnr").addClass("-active")}),2e3),v(),_();else{$(".sound_select").addClass("-hide"),$("body,html").addClass("-inmodal"),$(".loader__skip").addClass("-active"),t.intro_voice.sound.play();var a=u.nrw?5:10,n=e?9:35;i.fromTo(".loader__map,.loader__ttl",a,{opacity:0,scale:.8},{opacity:.4,scale:1},0),i.fromTo(".loader__logo",a,{opacity:0,scale:.8},{opacity:1,scale:1},0),e?$(".loader__state__txt__txt,.loader__state__inner").addClass("-anim -soundoff"):$(".loader__state__txt__txt,.loader__state__inner").addClass("-anim"),i.call((function(){v(),_(),$(".loader").removeClass("-active").addClass("-hide"),$(".js-screenobj").addClass("-active"),$("body,html").removeClass("-inmodal")}),null,n),i.call((function(){$(".js-bnr").addClass("-active")}),null,n+2),Cookies.set("visited",1,{expires:1})}}(e)})),$(".js-info__open").on("click",(function(){PIXI.sound.stopAll(),PIXI.sound.muteAll(),$(".js-mutevoice").addClass("-mute"),t[r.blockID+o]&&(s.kill(),n.texture1=t[r.blockID+o].texture,n.texture2=null,n.dispFactor=0,l=1,TweenMax.to(n,d,{dispFactor:l,ease:Circ.easeInOut}),TweenMax.to(".l-canvas_overlay",1,{opacity:0}),$(".js-screenobj").removeClass("-active"),$("body,html").addClass("-inmodal"),setTimeout((function(){$(".info_modal").addClass("-active")}),1e3))})),$(".js-info__close").on("click",(function(){$(".info_modal").removeClass("-active"),$(".js-screenobj").addClass("-active"),$("body,html").removeClass("-inmodal"),$(".js-tabcont,.js-tabbtn").removeClass("-active"),$(".js-tabbtn").eq(0).addClass("-active"),$(".js-tabcont").eq(0).addClass("-active"),l=0,TweenMax.to(n,d,{dispFactor:l,ease:Circ.easeInOut,onComplete:function(){var e=o==c?1:o+1;n.texture2=t[r.blockID+e].texture,l=1,h()}})}))}},{key:"calcRatio",value:function(){var e=this.nrw?[750,1440]:[1920,970],t={x:1,y:1};return t.x=Math.min(window.innerWidth/window.innerHeight/(e[0]/e[1]),1),t.y=Math.min(window.innerHeight/window.innerWidth/(e[1]/e[0]),1),t}},{key:"setFullscreenCanvas",value:function(){var e=this;clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((function(){e.app.renderer.resize(window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio),e.app.view.style.width=window.innerWidth+"px",e.app.view.style.height=window.innerHeight+"px",e.graphics.clear(),e.graphics.beginFill(0),e.graphics.drawRect(0,0,window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio),e.graphics.endFill(),e.myFilter.uniforms.ratio=e.calcRatio()}),100)}}])&&n(t.prototype,i),a&&n(t,a),e}();function d(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isiOS=navigator.userAgent.match(/iPhone|iPad|iPod/),this.init()}var t,i,a;return t=e,(i=[{key:"init",value:function(){this.tab(),this.removeContextmenu(),this.setEnvClass(),this.toggleMute(),this.infomodalVoice()}},{key:"tab",value:function(){$(".js-tabbtn").on("click",(function(){$(".js-tabbtn").removeClass("-active"),$(this).addClass("-active");var e=$(this).attr("data-tab");$(".js-tabcont").removeClass("-active"),$('.js-tabcont[data-tab="'+e+'"]').addClass("-active")}))}},{key:"toggleMute",value:function(){$(".js-mutevoice").on("click",(function(){$(this).hasClass("-mute")?($(this).removeClass("-mute"),window.isMute=!1,PIXI.sound.unmuteAll()):($(this).addClass("-mute"),window.isMute=!0,PIXI.sound.muteAll())}))}},{key:"infomodalVoice",value:function(){var e=!1,t=null,i=$(".js-infomodal_voice");i.on("click",(function(){if(!e){var i=$(this);i.addClass("-active"),e=!0,(t=new Audio("https://lance70176.github.io/5th-fate-go/reward/voice/intro_c63gvex9.mp3")).load(),4===t.readyState?t.play():t.addEventListener("canplaythrough",(function(e){t.play()})),t.addEventListener("ended",(function(t){e=!1,i.removeClass("-active")}))}})),$(".js-info__close").on("click",(function(){e&&(t.pause(),e=!1,i.removeClass("-active"))}))}},{key:"removeContextmenu",value:function(){document.body.oncontextmenu=function(){return!1}}},{key:"setEnvClass",value:function(){var e="";this.isiOS&&(e="-iOS"),$("body").addClass(e)}}])&&d(t.prototype,i),a&&d(t,a),e}();function v(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dom={fullsize_screen:$(".fullsize_screen"),fullsize_screen__ph:$(".fullsize_screen__ph"),fullsize_screen__progress:$(".fullsize_screen__progress"),fullsize_screen__voice:$(".js-fullsize_screen_voice"),archive_voice:$(".js-archive_voice")},this.rewardCharaList=[],this.achievementList=[],this.prefAchievementList=[],this.init()}var t,i,a;return t=e,(i=[{key:"init",value:function(){this.createRewardCharaList()}},{key:"createRewardCharaList",value:function(){var e=this;$.ajax("https://lance70176.github.io/5th-fate-go/reward/rewardlist.html",{dataType:"json"}).done((function(t,i,a){t.forEach((function(t){e.rewardCharaList=e.rewardCharaList.concat(t.charaList),e.achievementList=e.achievementList.concat(t.achievement);for(var i=0;i<t.charaList.length;i++)e.prefAchievementList.push(t.achievement)})),e.eventBind(),e.blockAcc(),e.setInfo(0)}))}},{key:"setInfo",value:function(e,t){var i=window.archiveData[e],a=["pref","servant","cv","copy","spot","illust","media"];this.tgt=e;var n=this.rewardCharaList.filter((function(e){return e.pref===i.id}));$(".js-archive_ttl__ico").removeClass((function(e,t){return(t.match(/-\S+/g)||[]).join(" ")})),$(".js-archive_ttl__ico").addClass("-w -"+i.id),$(".js-archive_ttl").text(i.id),$(".js-archive_credit").each((function(e){var t="";i[a[e]]&&(t="copy"!==a[e]?i[a[e]].replace(/<.*>/,""):i[a[e]]),$(this).html(t)})),$(".js-archive_ph").attr("src","");var s=new Image;s.src="https://lance70176.github.io/5th-fate-go/assets/img/archive/ph/"+i.id+".jpg",s.addEventListener("load",(function(){$(".js-archive_ph").attr("src",s.src)})),$(".archive__list__item.-active").removeClass("-active"),$(".archive__list__item").eq(e).addClass("-active");var o=$(".js-archive__thumbbtn.-active").parents().attr("data-blockarea");this.setCurrentAcc(o,t),this.voice&&this.voice.pause(),this.prefAchievementList[e]?this.setAudio(n[0].id):this.hideAudio()}},{key:"changeArchiveList",value:function(e){var t=e.attr("data-cat");$(".archive__ttlarea__category__txt").removeClass("-active"),$(".archive__list__item__ph__item").removeClass("-active"),$(".archive__list__item__ttl").removeClass("-active"),$(".archive__list__item__ph__item.-"+t).addClass("-active"),$(".archive__list__item__ttl.-"+t).addClass("-active"),e.addClass("-active")}},{key:"setContainSize",value:function(){var e=this.$dom;e.fullsize_screen.hasClass("-active")&&window.innerWidth>768&&(window.innerWidth/window.innerHeight<=4.63768?e.fullsize_screen__ph.addClass("-fit_w"):e.fullsize_screen__ph.removeClass("-fit_w")),this.setFSVoicePos()}},{key:"loadFullImage",value:function(e){var t=this,i=this.$dom;i.fullsize_screen__progress.removeClass("-complete"),i.fullsize_screen__ph.removeClass("-active"),i.fullsize_screen__voice.css({display:"none"});var a=PIXI.Loader.shared;function n(){window.innerWidth<=768&&setTimeout((function(){var e=i.fullsize_screen__ph.width()/5;$(".fullsize_screen").scrollLeft(e)}),10)}a.resources[e]?(i.fullsize_screen__ph.attr("src",e),i.fullsize_screen__progress.addClass("-complete"),i.fullsize_screen__ph.addClass("-active"),n(),this.showFullScreenVoice(),this.setFSVoicePos()):(a.add(e,e),a.on("progress",(function(a){var s=a.progress/100;i.fullsize_screen__progress.css("transform","scaleX("+s+")"),100==a.progress&&(i.fullsize_screen__ph.attr("src",e),i.fullsize_screen__progress.addClass("-complete"),i.fullsize_screen__ph.addClass("-active"),n(),t.showFullScreenVoice(),t.setFSVoicePos())})))}},{key:"blockAcc",value:function(){$(".js-acc_open").on("click",(function(){if(!$(this).hasClass("-disable")){var e=$(this).next(".js-acc"),t=e.find(".js-acc__cont").outerHeight(!0);$(this).hasClass("-active")?($(this).removeClass("-active"),e.css("height",0)):($(this).addClass("-active"),e.css("height",t))}}))}},{key:"setCurrentAcc",value:function(e,t){t&&($(".js-acc").css("height",0),$(".js-acc_open").removeClass("-active"));var i=$('.js-acc_open[data-blockarea="'.concat(e,'"]'));i.addClass("-active");var a=i.next(".js-acc");a.addClass("-active");var n=a.find(".js-acc__cont").outerHeight(!0);a.css("height",n)}},{key:"eventBind",value:function(){var e=this,t=this,i="";$(".js-archive__thumbbtn").on("click",(function(){$(".archive__detail,.archive__detail__inner").removeClass("-active -open -fromL -fromR"),$(".archive__blockarea__scrollwrapper").addClass("-active"),$(".archive__ttlarea__back").addClass("-active"),$(".archive__ttlarea__category").removeClass("-active");for(var e=$(this).attr("data-id"),a=0,n=0;n<window.archiveData.length;n++)if(e===window.archiveData[n].id){a=n;break}setTimeout((function(){"prev"==i?$(".archive__detail,.archive__detail__inner").addClass("-active -fromL"):$(".archive__detail,.archive__detail__inner").addClass("-active -fromR"),t.setInfo(a)}),10)})),$(".archive__ttlarea__back").on("click",(function(){$(".archive__detail,.archive__blockarea__scrollwrapper").removeClass("-active"),$(".archive__ttlarea__category").addClass("-active"),$(this).removeClass("-active")})),$(".js-archive__open").on("click",(function(){if(PIXI.sound.muteAll(),$(".js-mutevoice").addClass("-mute"),$(".archive_modal").addClass("-active"),$("body,html").addClass("-inmodal"),$(".archive__detail").addClass("-open"),t.setAchievement(),$(".archive__list__item__ph__item.-active").each((function(e){var t=this;$(this).removeClass("-active"),setTimeout((function(){$(t).addClass("-active")}),40*e+200)})),$(this).attr("data-id")){var e=$(this).attr("data-id"),i=$('.js-archive__thumbbtn[data-id="'+e+'"]').index(".js-archive__thumbbtn");if($(this).hasClass("main__archivebtn")&&window.innerWidth<=768)return window.innerWidth>768||($(".archive__ttlarea__category").addClass("-active"),$(".archive__ttlarea__back").removeClass("-active"),$(".archive__blockarea__scrollwrapper").removeClass("-active"),$(".archive__detail").removeClass("-active")),void t.setInfo(i,"visibleOne");t.setInfo(i,"visibleOne"),window.innerWidth>768||($(".archive__ttlarea__category").removeClass("-active"),$(".archive__ttlarea__back").addClass("-active"),$(".archive__blockarea__scrollwrapper").addClass("-active"),$(".archive__detail").addClass("-active"))}})),$(".js-archive__close").on("click",(function(){$(".archive_modal").removeClass("-active"),$(".archive__detail").removeClass("-open"),$("body,html").removeClass("-inmodal"),setTimeout((function(){$(".archive__ttlarea__category").addClass("-active"),$(".archive__detail,.archive__list,.archive__ttlarea__back").removeClass("-active")}),400),$(".archive__accttl").removeClass("-achieve"),t.voice&&t.voice.pause()})),$(".archive__ttlarea__category__txt").on("click",(function(){t.changeArchiveList($(this))})),$(".js-fullsize_screen__open").on("click",(function(){$(".fullsize_screen__ph").removeClass("-height20 -vertical"),$(".fullsize_screen").addClass("-active");var e="";if($(this).hasClass("-station")){$(this).hasClass("-vertical")&&window.innerWidth<=768&&$(".fullsize_screen__ph").addClass("-vertical"),$(this).hasClass("-height20")&&window.innerWidth<=768&&$(".fullsize_screen__ph").addClass("-height20");var i=$(this).index(".js-fullsize_screen__open.-station");e="https://lance70176.github.io/5th-fate-go/assets/img/archive/ph/fullsize/station/".concat(window.stationData[i].id,"_").concat(window.stationData[i].hash,".jpg")}else{var a=$(".archive__list__item.-active").index(".archive__list__item");e="https://lance70176.github.io/5th-fate-go/assets/img/archive/ph/fullsize/".concat(window.archiveData[a].id,"_").concat(window.archiveData[a].hash,".jpg")}t.setContainSize(),t.loadFullImage(e)})),$(".js-fullsize_screen__close").on("click",(function(){$(".fullsize_screen").removeClass("-active"),$(".fullsize_screen__ph").attr("src","").removeClass("-active"),$(".fullsize_screen__ph").removeClass("-fit_w")})),$(window).on("resize",(function(){e.setContainSize()})),$(".js-archive_pagenate").on("click",(function(){var e=$("[data-listindex].-active").index("[data-listindex]"),t=$("[data-listindex]").length-1;"prev"===$(this).attr("data-direction")?(--e<0&&(e=t),i="prev"):(++e>t&&(e=0),i="next"),$("[data-listindex]").eq(e).trigger("click")}));var a=0,n=0,s=!1,o="",r=0;$(".archive_modal").on("scroll",(function(){s=!0,clearTimeout(o),o=setTimeout((function(){s=!1}),50)})),$(".archive__detail").on("touchstart",(function(e){a=e.touches[0].pageX})),$(".archive__detail").on("touchmove",(function(e){n=e.changedTouches[0].pageX,r=n-a,0===n||s||$(".archive__detail").css({transform:"translate(".concat(r,"px,0)")})})),$(".archive__detail").on("touchend",(function(e){if($(".archive__detail").css({transform:"translate(0,0)"}),!(0===n||Math.abs(r)<50)){var t=$("[data-listindex].-active").index("[data-listindex]"),s=$("[data-listindex]").length-1;r>0?(--t<0&&(t=s),i="prev"):(++t>s&&(t=0),i="next"),$("[data-listindex]").eq(t).trigger("click"),a=n=r=0}}))}},{key:"setAchievement",value:function(){var e=this;$(".archive__accttl").each((function(t,i){var a=$(i),n=a.find(".archive__voiceopen"),s=.05*t+.5;e.achievementList[t]&&(a.addClass("-achieve"),gsap.set(n,{opacity:0}),gsap.to(n,{duration:.2,delay:s,scale:.8,rotate:-1,opacity:1}),gsap.to(n,{duration:.35,delay:s+.2,scale:1.3,rotate:2}),gsap.to(n,{duration:.4,delay:s+.55,scale:1,rotate:0,opacity:1,ease:"back.out(1.4)"}))}))}},{key:"randomVoiceOpenAnime",value:function(e){var t=this,i=1e4*Math.random()+2e3;setTimeout((function(){gsap.to(e,{duration:.2,scale:.35,rotation:-10,opacity:0,ease:"power2.out"}),gsap.to(e,{duration:.4,delay:.2,scale:1,rotate:0,opacity:1,ease:"back.out(1.4)"}),$(".archive_modal").hasClass("-active")&&t.randomVoiceOpenAnime(e)}),i)}},{key:"setAudio",value:function(e){var t=this;this.isPlaying=!1,this.audioFile="https://lance70176.github.io/5th-fate-go/reward/voice/".concat(e,".mp3"),this.$dom.archive_voice.on("click",(function(){t.playAudio()})),this.$dom.fullsize_screen__voice.on("click",(function(){t.playAudio()})),this.$dom.archive_voice.css({display:"block"}),this.$dom.archive_voice.removeClass("-playing"),this.$dom.fullsize_screen__voice.removeClass("-playing")}},{key:"hideAudio",value:function(){this.$dom.archive_voice.css({display:"none"}),this.$dom.fullsize_screen__voice.css({display:"none"})}},{key:"playAudio",value:function(){var e=this;this.isPlaying||(this.voice=new Audio(this.audioFile),this.voice.load(),4===this.voice.readyState?this.voice.play():this.voice.addEventListener("canplaythrough",(function(t){e.voice.play()})),this.voice.addEventListener("ended",(function(t){e.$dom.archive_voice.removeClass("-playing"),e.$dom.fullsize_screen__voice.removeClass("-playing"),e.isPlaying=!1,e.voice=null})),this.$dom.archive_voice.addClass("-playing"),this.$dom.fullsize_screen__voice.addClass("-playing"),this.isPlaying=!0)}},{key:"setFSVoicePos",value:function(){if(this.prefAchievementList[this.tgt]){var e,t,i=this.$dom.fullsize_screen__ph.width()/2,a=this.$dom.fullsize_screen__ph.height()/2;window.innerWidth>768?(e=i+85,t=a):(e=window.innerWidth/2-15,t=a+60),this.$dom.fullsize_screen__voice.css({transform:"translate(".concat(e,"px, ").concat(t,"px)")})}}},{key:"showFullScreenVoice",value:function(){this.prefAchievementList[this.tgt]&&this.$dom.fullsize_screen__voice.css({display:"block"})}}])&&v(t.prototype,i),a&&v(t,a),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isMobile=navigator.userAgent.match(/iPhone|iPad|iPod|Android/),this.init()}var t,i,a;return t=e,(i=[{key:"init",value:function(){this.eventBind()}},{key:"eventBind",value:function(){var e=this;$("[data-ga]").each((function(t){var i=$(this).data("ga");$(this).on("click",(function(){e.sendGA(i)}))}))}},{key:"sendGA",value:function(e){if(e&&"object"===h(e)){var t=this.isMobile?"_sp":"",i={event_category:e[0]+t||"",event_label:e[1]+t||""};window.gtag("event","click",i)}}}])&&f(t.prototype,i),a&&f(t,a),e}();new l,new u,new _,new m}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2h0bWwvYXNzZXRzL2VzNi9fY2FudmFzLmVzNiIsIndlYnBhY2s6Ly8vLi4vaHRtbC9hc3NldHMvZXM2L19mcmFnbWVudHNoYWRlci5lczYiLCJ3ZWJwYWNrOi8vLy4uL2h0bWwvYXNzZXRzL2VzNi9fdWkuZXM2Iiwid2VicGFjazovLy8uLi9odG1sL2Fzc2V0cy9lczYvX2FyY2hpdmUuZXM2Iiwid2VicGFjazovLy8uLi9odG1sL2Fzc2V0cy9lczYvX2V2ZW50dHJhY2tlci5lczYiLCJ3ZWJwYWNrOi8vLy4uL2h0bWwvYXNzZXRzL2VzNi9tYWluLmVzNiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlBJWEkiLCJmaWx0ZXJzIiwiTXlGaWx0ZXIiLCJ0ZXh0dXJlMSIsInRleHR1cmUyIiwiZGlzcCIsImRpc3BGYWN0b3IiLCJyYXRpbyIsImludGVuc2l0eSIsIkZpbHRlciIsIkNhbnZhcyIsInRoaXMiLCJhcHAiLCJteUZpbHRlciIsImdyYXBoaWNzIiwiR3JhcGhpY3MiLCJzbGlkZVRMIiwiYmxvY0tJbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndpbmRvdyIsInNsaWRlRGF0YSIsImxlbmd0aCIsImluTG9hZGluZyIsIm5ydyIsImlubmVyV2lkdGgiLCJyZXNpemVUaW1lciIsImlzTW9iaWxlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJpbml0IiwidXRpbHMiLCJpc1dlYkdMU3VwcG9ydGVkIiwiaW5pdFBpeGkiLCJvbkluaXRFcnJvciIsIiQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiQXBwbGljYXRpb24iLCJ2aWV3IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3RhZ2UiLCJhZGRDaGlsZCIsInNldEZ1bGxzY3JlZW5DYW52YXMiLCJhZGRFdmVudExpc3RlbmVyIiwibG9hZEFzc2V0cyIsImV4dCIsImxvYWRlciIsIkxvYWRlciIsInNoYXJlZCIsImN1cnJlbnRTbGlkZURhdGEiLCJpbWciLCJzbGlkZUlkIiwiYmxvY2tJRCIsImFkZCIsInZvaWNlIiwib24iLCJvblByb2dyZXNzIiwibG9hZCIsInJlc291cmNlcyIsIm9uQ29tcGxldGUiLCJuZXh0QmxvY2tJbmRleCIsInByb2dyZXNzIiwiY3NzIiwic2V0VGltZW91dCIsInVuaWZvcm1zIiwiY3VycmVudF9zbGlkZSIsInNsaWRlVG90YWwiLCJkaXN0aW5hdGlvbiIsInRyYW5zaXRpb25TcGVlZCIsInRoYXQiLCJzZXROYW1lIiwiY2FwQXJyYXkiLCJjYXB0aW9uIiwibmV4dFR4dCIsImVxIiwiaHRtbCIsImF0dHIiLCJmaXJzdFNsaWRlIiwiVGltZWxpbmVNYXgiLCJzbGlkZSIsInRvIiwib3BhY2l0eSIsImVhc2UiLCJDaXJjIiwiZWFzZUluT3V0IiwidGV4dHVyZSIsImNvbnNvbGUiLCJsb2ciLCJuZXh0SW5kZXgiLCJsb2FkTmV4dEJsb2NrQXNzZXRzIiwiUG93ZXIxIiwiZWFzZUluIiwiaW50ZXJ2YWwiLCJsYXN0aW5kZXgiLCJsYXN0RGF0YSIsInNvdW5kIiwicGxheSIsIm5leHRJbWciLCJjYWxjUmF0aW8iLCJzb3VuZE9mZiIsInVzZXJTb3VuZE9mZiIsImlzTXV0ZSIsIm11dGVBbGwiLCJ0bCIsInJlbW92ZSIsInN0b3BBbGwiLCJjbGVhciIsIkNvb2tpZXMiLCJzcGVlZCIsImRlbGF5IiwiZnJvbVRvIiwic2NhbGUiLCJzZXQiLCJleHBpcmVzIiwiaW50cm8iLCJraWxsIiwiVHdlZW5NYXgiLCJpbWdSZXoiLCJ4IiwieSIsIm1pbiIsImlubmVySGVpZ2h0IiwiY2xlYXJUaW1lb3V0IiwicmVuZGVyZXIiLCJyZXNpemUiLCJkZXZpY2VQaXhlbFJhdGlvIiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImJlZ2luRmlsbCIsImRyYXdSZWN0IiwiZW5kRmlsbCIsIlVJIiwiaXNpT1MiLCJ0YWIiLCJyZW1vdmVDb250ZXh0bWVudSIsInNldEVudkNsYXNzIiwidG9nZ2xlTXV0ZSIsImluZm9tb2RhbFZvaWNlIiwidGd0IiwiaGFzQ2xhc3MiLCJ1bm11dGVBbGwiLCJwbGF5aW5nIiwiJGJ1dHRvbiIsIkF1ZGlvIiwicmVhZHlTdGF0ZSIsImUiLCJwYXVzZSIsImJvZHkiLCJvbmNvbnRleHRtZW51IiwiZW52Q2xhc3MiLCJBcmNoaXZlIiwiJGRvbSIsImZ1bGxzaXplX3NjcmVlbiIsImZ1bGxzaXplX3NjcmVlbl9fcGgiLCJmdWxsc2l6ZV9zY3JlZW5fX3Byb2dyZXNzIiwiZnVsbHNpemVfc2NyZWVuX192b2ljZSIsImFyY2hpdmVfdm9pY2UiLCJyZXdhcmRDaGFyYUxpc3QiLCJhY2hpZXZlbWVudExpc3QiLCJwcmVmQWNoaWV2ZW1lbnRMaXN0IiwiY3JlYXRlUmV3YXJkQ2hhcmFMaXN0IiwiYWpheCIsImRhdGFUeXBlIiwiZG9uZSIsImRhdGEiLCJ0ZXh0U3RhdHVzIiwieGhyIiwiZm9yRWFjaCIsImVsbSIsImNvbmNhdCIsImNoYXJhTGlzdCIsImFjaGlldmVtZW50IiwicHVzaCIsImV2ZW50QmluZCIsImJsb2NrQWNjIiwic2V0SW5mbyIsInZpc2libGVPbmUiLCJhcmNoaXZlRGF0YSIsImNyZWRpdEFycmF5IiwidGFyZ2V0UmV3YXJkIiwiZmlsdGVyIiwicHJlZiIsImlkIiwiaW5kZXgiLCJjbGFzc05hbWUiLCJqb2luIiwidGV4dCIsImVhY2giLCJ0cmltbWVkRGF0YSIsInJlcGxhY2UiLCJwaG90byIsIkltYWdlIiwic3JjIiwidGFyZ2V0QWNjIiwicGFyZW50cyIsInNldEN1cnJlbnRBY2MiLCJzZXRBdWRpbyIsImhpZGVBdWRpbyIsInNldEZTVm9pY2VQb3MiLCJfc3JjIiwiZGlzcGxheSIsInNldFNjcm9sbCIsIm9mZnNldF94Iiwic2Nyb2xsTGVmdCIsInNob3dGdWxsU2NyZWVuVm9pY2UiLCIkd3JhcHBlciIsIm5leHQiLCJmaW5kIiwib3V0ZXJIZWlnaHQiLCJ0YXJnZXQiLCIkdGFyZ2V0IiwiZGlyZWN0aW9uIiwic2V0QWNoaWV2ZW1lbnQiLCJjaGFuZ2VBcmNoaXZlTGlzdCIsInRndHNyYyIsInN0YXRpb25faW5kZXgiLCJzdGF0aW9uRGF0YSIsImhhc2giLCJhY3RpdmVfaW5kZXgiLCJzZXRDb250YWluU2l6ZSIsImxvYWRGdWxsSW1hZ2UiLCJtYXgiLCJ0cmlnZ2VyIiwic3RhcnRYIiwibW92ZVgiLCJpblNjcm9sbCIsInRpbWVyIiwiZGlzdGFuY2UiLCJ0b3VjaGVzIiwicGFnZVgiLCJjaGFuZ2VkVG91Y2hlcyIsInRyYW5zZm9ybSIsImFicyIsIiR0dGwiLCIkYmEiLCJfZGVsYXkiLCJnc2FwIiwiZHVyYXRpb24iLCJyb3RhdGUiLCJyb3RhdGlvbiIsInJhbmRvbVZvaWNlT3BlbkFuaW1lIiwiaXNQbGF5aW5nIiwiYXVkaW9GaWxlIiwicGxheUF1ZGlvIiwidHgiLCJ0eSIsInBoX2hhbGZfdyIsInBoX2hhbGZfaCIsIkV2ZW50VHJhY2tlciIsImxhYmVsIiwic2VuZEdBIiwibW9iaWxlU3RyIiwiYXJncyIsImV2ZW50X2NhdGVnb3J5IiwiZXZlbnRfbGFiZWwiLCJndGFnIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6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IG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IGZyYWdtZW50U2hhZGVyIGZyb20gJy4vX2ZyYWdtZW50c2hhZGVyLmVzNic7XG5cblBJWEkuZmlsdGVycy5NeUZpbHRlciA9IGNsYXNzIGV4dGVuZHMgUElYSS5GaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIG51bGwsIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyLCAvLyBmcmFnbWVudCBzaGFkZXJcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHVuaWZvcm1zIOWFiOOBq+Wumue+qeOBl+OBquOBhOOBqOa4oeOBm+OBquOBhOOBruOBp+azqOaEj1xuICAgICAgICAgICAgICAgIHRleHR1cmUxOiBudWxsLFxuICAgICAgICAgICAgICAgIHRleHR1cmUyOiBudWxsLFxuICAgICAgICAgICAgICAgIGRpc3A6IG51bGwsXG4gICAgICAgICAgICAgICAgZGlzcEZhY3RvcjogMC4wLFxuICAgICAgICAgICAgICAgIHJhdGlvOiBudWxsLFxuICAgICAgICAgICAgICAgIGludGVuc2l0eTogMC4wLFxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYXBwID0ge307XG4gICAgICAgIHRoaXMubXlGaWx0ZXIgPSBuZXcgUElYSS5maWx0ZXJzLk15RmlsdGVyKCk7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuXG4gICAgICAgIHRoaXMuc2xpZGVUTCA9IHt9OyAvL+ePvuWcqOOBruOCv+OCpOODoOODqeOCpOODs+OBjOWFpeOCi1xuICAgICAgICB0aGlzLmJsb2NLSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuc2xpZGVEYXRhLmxlbmd0aCk7IC8v54++5Zyo44Gu44K544Op44Kk44OW44OJ44Ot44OD44KvKOiqreOBv+i+vOOBv+aZguOBr+ODqeODs+ODgOODoOWni+OBvuOCiuOBq+OBmeOCiylcbiAgICAgICAgdGhpcy5zbGlkZURhdGEgPSB3aW5kb3cuc2xpZGVEYXRhOyAvL+OBmeOBueOBpuOBruOCueODqeOCpOODieODh+ODvOOCv1xuICAgICAgICB0aGlzLmluTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubnJ3ID0gd2luZG93LmlubmVyV2lkdGggPD0gNzY4O1xuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc01vYmlsZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUGFkfEFuZHJvaWQvKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy9XZWJHTOWun+ihjOWPr+iDveOBp+OBquOBkeOCjOOBsOOAgeWun+ihjOOBleOBm+OBquOBhOOAguOCqOODqeODvOeUu+mdouOCguihqOekuuOBmeOCi1xuICAgICAgICBpZiAoUElYSS51dGlscy5pc1dlYkdMU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFBpeGkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25Jbml0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uSW5pdEVycm9yKCkge1xuICAgICAgICAkKCcubC1zdXBwb3J0ZW52JykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICAgICAgJCgnLmxvYWRlcicpLnJlbW92ZUNsYXNzKCctYWN0aXZlJyk7XG4gICAgICAgICQoJy5tYWluX190dGwsLmwtZm9vdGVyJykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpbml0UGl4aSgpIHtcbiAgICAgICAgLy9HTFNM44GZ44KL6Zqb44GvUElYSeOBrnJlc29sdXRpb27jgpLkvb/jgo/jgarjgYTjgIJyZXNvbHV0aW9uOjLjga7jgajjgY3jgavluqfmqJnjgYzjgYrjgYvjgZfjgY/jgarjgovjgZ/jgoHjg7vjg7vjg7tcbiAgICAgICAgdGhpcy5hcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih7XG4gICAgICAgICAgICB2aWV3OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtY2FudmFzJyksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZ3JhcGhpY3MpO1xuXG4gICAgICAgIC8vY2FudmFz44Gudmlld+OBruWIneacn+ioreWumlxuICAgICAgICB0aGlzLnNldEZ1bGxzY3JlZW5DYW52YXMoKTtcblxuICAgICAgICAvL+ODquOCteOCpOOCuuOCpOODmeODs+ODiOOBruioreWumjo6XG4gICAgICAgIC8v44K544Oe44Ob44Gn44K544Kv44Ot44O844Or5pmC44Gr44Oq44K144Kk44K644Kk44OZ44Oz44OI44GM55m655Sf44GX44Gq44GE44KI44GG44Gr44Kq44Oq44Ko44Oz44OG44O844K344On44Oz44OB44Kn44Oz44K444Gu44G/44Gr44Kk44OZ44Oz44OI6Kit5a6a44GZ44KLXG4gICAgICAgIGlmICh0aGlzLmlzTW9iaWxlKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGdWxsc2NyZWVuQ2FudmFzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGdWxsc2NyZWVuQ2FudmFzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8v44Ki44K744OD44OI44Gu6Kqt44G/6L6844G/4oaS5a6M5LqG5pmC44Gr5Yem55CG44KS5ZG844Gz5Ye644GZXG4gICAgICAgIHRoaXMubG9hZEFzc2V0cygpO1xuICAgIH1cblxuICAgIGxvYWRBc3NldHMoKSB7XG4gICAgICAgIC8v56uv5pyr44Gr44KI44Gj44Gm6Kqt44G/6L6844KA55S75YOP44KS5aSJ5pu0XG4gICAgICAgIGxldCBleHQgPSB0aGlzLm5ydyA/ICdfbnJ3LmpwZycgOiAnLmpwZyc7XG4gICAgICAgIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlRGF0YSA9IHRoaXMuc2xpZGVEYXRhW3RoaXMuYmxvY0tJbmRleF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U2xpZGVEYXRhLmltZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNsaWRlSWQgPSBjdXJyZW50U2xpZGVEYXRhLmJsb2NrSUQgKyAoaSArIDEpO1xuXG4gICAgICAgICAgICAvL+eUu+WDj+OBruODreODvOODiVxuICAgICAgICAgICAgbG9hZGVyLmFkZChzbGlkZUlkLCBjdXJyZW50U2xpZGVEYXRhLmltZ1tpXSArIGV4dCk7XG5cbiAgICAgICAgICAgIC8v6Z+z5aOw44Gu44Ot44O844OJXG4gICAgICAgICAgICBsb2FkZXIuYWRkKHNsaWRlSWQgKyAnX3ZvaWNlJywgY3VycmVudFNsaWRlRGF0YS52b2ljZVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2Rpc3BsYWNlbWVudCBmaWx0ZXIgUEMvU1DlhbHpgJpcbiAgICAgICAgbG9hZGVyLmFkZCgnZGlzcCcsICcvYXNzZXRzL2ltZy9maWx0ZXIvZGlzcC5qcGcnKTtcblxuICAgICAgICAvL+OCpOODs+ODiOODreOBruODleODq+ODnOOCpOOCuVxuICAgICAgICBsb2FkZXIuYWRkKCdpbnRyb192b2ljZScsICcvcmV3YXJkL3ZvaWNlL2ludHJvX2M2M2d2ZXg5Lm1wMycpO1xuXG4gICAgICAgIGxvYWRlci5vbigncHJvZ3Jlc3MnLCAobG9hZGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MobG9hZGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUobG9hZGVyLCByZXNvdXJjZXMpO1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNvdXJjZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkTmV4dEJsb2NrQXNzZXRzKG5leHRCbG9ja0luZGV4KSB7XG4gICAgICAgIC8v5YuV55qE44Ot44O844OJ44OV44Op44KwXG4gICAgICAgIHRoaXMuaW5Mb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAvL+err+acq+OBq+OCiOOBo+OBpuiqreOBv+i+vOOCgOeUu+WDj+OCkuWkieabtFxuICAgICAgICBsZXQgZXh0ID0gdGhpcy5ucncgPyAnX25ydy5qcGcnIDogJy5qcGcnO1xuICAgICAgICBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7XG4gICAgICAgIGNvbnN0IHNsaWRlRGF0YSA9IHRoaXMuc2xpZGVEYXRhW25leHRCbG9ja0luZGV4XTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlRGF0YS5pbWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzbGlkZUlkID0gc2xpZGVEYXRhLmJsb2NrSUQgKyAoaSArIDEpO1xuXG4gICAgICAgICAgICAvL+OCouOCu+ODg+ODiOOBjOOBmeOBp+OBq+WtmOWcqOOBl+OBquOBhOWgtOWQiOOBruOBv+ODreODvOODiVxuICAgICAgICAgICAgaWYgKCFsb2FkZXIucmVzb3VyY2VzW3NsaWRlSWRdKSB7XG4gICAgICAgICAgICAgICAgLy/nlLvlg4/jga7jg63jg7zjg4lcbiAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHNsaWRlSWQsIHNsaWRlRGF0YS5pbWdbaV0gKyBleHQpO1xuICAgICAgICAgICAgICAgIC8v6Z+z5aOw44Gu44Ot44O844OJXG4gICAgICAgICAgICAgICAgbG9hZGVyLmFkZChzbGlkZUlkICsgJ192b2ljZScsIHNsaWRlRGF0YS52b2ljZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsb2FkZXIub24oJ3Byb2dyZXNzJywgKGxvYWRlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzKGxvYWRlcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbkxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25Qcm9ncmVzcyhsb2FkZXIpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzID0gbG9hZGVyLnByb2dyZXNzIC8gMTAwO1xuICAgICAgICAkKCcubC1jYW52YXNfcHJvZ3Jlc3MnKS5jc3MoJ3RyYW5zZm9ybScsICdzY2FsZVgoJyArIHByb2dyZXNzICsgJyknKTtcbiAgICB9XG5cbiAgICBvbkNvbXBsZXRlKGxvYWRlciwgcmVzb3VyY2VzKSB7XG4gICAgICAgIC8vbG9hZGVy44KS6Z2e6KGo56S644GrXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgJCgnLmwtY2FudmFzX3Byb2dyZXNzJykuYWRkQ2xhc3MoJy1jb21wbGV0ZScpO1xuICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgIGNvbnN0IG15RmlsdGVyID0gdGhpcy5teUZpbHRlcjtcbiAgICAgICAgY29uc3QgYXBwID0gdGhpcy5hcHA7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5teUZpbHRlci51bmlmb3JtcztcblxuICAgICAgICBsZXQgc2xpZGVUTCA9IHRoaXMuc2xpZGVUTDtcbiAgICAgICAgbGV0IGN1cnJlbnRfc2xpZGUgPSAwO1xuICAgICAgICBsZXQgY3VycmVudFNsaWRlRGF0YSA9IHRoaXMuc2xpZGVEYXRhW3RoaXMuYmxvY0tJbmRleF07XG4gICAgICAgIGxldCBzbGlkZVRvdGFsID0gY3VycmVudFNsaWRlRGF0YS5pbWcubGVuZ3RoO1xuXG4gICAgICAgIGxldCBkaXN0aW5hdGlvbiA9IDE7IC8v5aSJ5YyW5YWI77yIMOOBqDHjgafjgrnjgqTjg4Pjg4HjgZnjgovvvIlcbiAgICAgICAgbGV0IGludGVydmFsID0gNjtcbiAgICAgICAgbGV0IHRyYW5zaXRpb25TcGVlZCA9IHRoaXMubnJ3ID8gMSA6IDEuNTtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgLy/jg6bjg4vjg5Xjgqnjg7zjg6DjgavnmbvpjLJcbiAgICAgICAgdW5pZm9ybXMudGV4dHVyZTEgPSBudWxsO1xuICAgICAgICB1bmlmb3Jtcy50ZXh0dXJlMiA9IHJlc291cmNlc1tjdXJyZW50U2xpZGVEYXRhLmJsb2NrSUQgKyAnMSddLnRleHR1cmU7XG4gICAgICAgIHVuaWZvcm1zLmRpc3AgPSByZXNvdXJjZXMuZGlzcC50ZXh0dXJlO1xuICAgICAgICB1bmlmb3Jtcy5pbnRlbnNpdHkgPSB0aGlzLm5ydyA/IDAuMyA6IDAuMjtcbiAgICAgICAgdW5pZm9ybXMucmF0aW8gPSB0aGlzLmNhbGNSYXRpbygpO1xuXG4gICAgICAgIC8vZmlsdGVy55m76Yyy77yIR0xTTO+8iVxuICAgICAgICBhcHAuc3RhZ2UuZmlsdGVycyA9IFtteUZpbHRlcl07XG5cbiAgICAgICAgLy/jg63jg7zjg4nlrozkuobjgafooajnpLpcbiAgICAgICAgJCgnLnNvdW5kX3NlbGVjdCcpLmFkZENsYXNzKCctYWN0aXZlJyk7XG5cbiAgICAgICAgLy/jgrXjgqbjg7Pjg4njgrvjg6zjgq/jg4jjgZXjgZvjgabjgYvjgonjgqTjg7Pjg4jjg63jgpLotbfli5VcbiAgICAgICAgJCgnLmpzLXNvdW5kX3NlbGVjdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBzb3VuZE9mZiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAkKCcuc291bmRfc2VsZWN0JykucmVtb3ZlQ2xhc3MoJy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1tdXRlJykgPT09ICcxJykge1xuICAgICAgICAgICAgICAgICQoJy5qcy1tdXRldm9pY2UnKS5hZGRDbGFzcygnLW11dGUnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cudXNlclNvdW5kT2ZmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaXNNdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBQSVhJLnNvdW5kLm11dGVBbGwoKTtcbiAgICAgICAgICAgICAgICBzb3VuZE9mZiA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGludHJvKHNvdW5kT2ZmKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy/jg6Ljg7zjg4Djg6vjgrvjg4Pjg4hcbiAgICAgICAgc2V0TW9kYWwoKTtcblxuICAgICAgICBmdW5jdGlvbiBzZXROYW1lKCkge1xuICAgICAgICAgICAgJCgnLm1haW5fX3ByZWZ0eHRfX2l0ZW0nKS5yZW1vdmVDbGFzcygnLWFjdGl2ZScpO1xuXG4gICAgICAgICAgICAvL3R3aWfjgYvjgonjgq3jg6Pjg5fjgrfjg6fjg7PjgpLlj5fjgZHlj5bjgotcbiAgICAgICAgICAgIGNvbnN0IGNhcEFycmF5ID0gY3VycmVudFNsaWRlRGF0YS5jYXB0aW9uO1xuXG4gICAgICAgICAgICAvL+mFjeWIl+OBquOBruOBpzHjgrrjg6xcbiAgICAgICAgICAgIGxldCBuZXh0VHh0ID0gY3VycmVudF9zbGlkZSA9PSBzbGlkZVRvdGFsID8gMCA6IGN1cnJlbnRfc2xpZGU7XG5cbiAgICAgICAgICAgIC8v5LiA44Gk5YWI44Gu44OG44Kt44K544OI44Gr44K744OD44OI44GZ44KLXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgICQoJy5tYWluX19wcmVmdHh0X19pdGVtX190eHQnKS5lcShpKS5odG1sKGNhcEFycmF5W25leHRUeHRdW2ldKTtcblxuICAgICAgICAgICAgICAgIC8v56m644Gu5aC05ZCI44CB44Gd44Gu6KGM44KS6Z2e6KGo56S644GrXG4gICAgICAgICAgICAgICAgaWYgKGNhcEFycmF5W25leHRUeHRdW2ldID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5tYWluX19wcmVmdHh0X19pdGVtJykuZXEoaSkuYWRkQ2xhc3MoJy1kaXNhYmxlJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1haW5fX3ByZWZ0eHRfX2l0ZW0nKS5lcShpKS5yZW1vdmVDbGFzcygnLWRpc2FibGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vaWTjgpLjgrvjg4Pjg4jjgZnjgotcbiAgICAgICAgICAgICQoJy5tYWluX19wcmVmdHh0JykuYXR0cignZGF0YS1pZCcsIGNhcEFycmF5W25leHRUeHRdWzNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGludHJvKHNvdW5kT2ZmKSB7XG4gICAgICAgICAgICBjb25zdCB0bCA9IG5ldyBUaW1lbGluZU1heCh7fSk7XG5cbiAgICAgICAgICAgICQoJy5zb3VuZF9zZWxlY3QnKS5hZGRDbGFzcygnLWhpZGUnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgLy9TTElQ5Yem55CGXG4gICAgICAgICAgICAkKCcuanMtbG9hZGVyX19za2lwJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vdGltZWxpbmXjgpLmtojljrvvvIbpn7Plo7DjgpJTdG9wXG4gICAgICAgICAgICAgICAgUElYSS5zb3VuZC5zdG9wQWxsKCk7XG4gICAgICAgICAgICAgICAgdGwuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBzZXROYW1lKCk7XG4gICAgICAgICAgICAgICAgZmlyc3RTbGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5sb2FkZXInKS5yZW1vdmVDbGFzcygnLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5qcy1zY3JlZW5vYmonKS5hZGRDbGFzcygnLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJ2JvZHksaHRtbCcpLnJlbW92ZUNsYXNzKCctaW5tb2RhbCcpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5qcy1ibnInKS5hZGRDbGFzcygnLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghQ29va2llcy5nZXQoJ3Zpc2l0ZWQnKSkge1xuICAgICAgICAgICAgICAgIC8v5a6M5YWo44Gr5raI5Y67XG4gICAgICAgICAgICAgICAgJCgnLnNvdW5kX3NlbGVjdCcpLmFkZENsYXNzKCctaGlkZScpO1xuXG4gICAgICAgICAgICAgICAgJCgnYm9keSxodG1sJykuYWRkQ2xhc3MoJy1pbm1vZGFsJyk7XG4gICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9fc2tpcCcpLmFkZENsYXNzKCctYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICByZXNvdXJjZXNbJ2ludHJvX3ZvaWNlJ10uc291bmQucGxheSgpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNwZWVkID0gdGhhdC5ucncgPyA1IDogMTA7XG4gICAgICAgICAgICAgICAgbGV0IGRlbGF5ID0gc291bmRPZmYgPyA5IDogMzU7XG5cbiAgICAgICAgICAgICAgICB0bC5mcm9tVG8oJy5sb2FkZXJfX21hcCwubG9hZGVyX190dGwnLCBzcGVlZCwgeyBvcGFjaXR5OiAwLCBzY2FsZTogMC44IH0sIHsgb3BhY2l0eTogMC40LCBzY2FsZTogMSB9LCAwKTtcbiAgICAgICAgICAgICAgICB0bC5mcm9tVG8oJy5sb2FkZXJfX2xvZ28nLCBzcGVlZCwgeyBvcGFjaXR5OiAwLCBzY2FsZTogMC44IH0sIHsgb3BhY2l0eTogMSwgc2NhbGU6IDEgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291bmRPZmYpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxvYWRlcl9fc3RhdGVfX3R4dF9fdHh0LC5sb2FkZXJfX3N0YXRlX19pbm5lcicpLmFkZENsYXNzKCctYW5pbSAtc291bmRvZmYnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcubG9hZGVyX19zdGF0ZV9fdHh0X190eHQsLmxvYWRlcl9fc3RhdGVfX2lubmVyJykuYWRkQ2xhc3MoJy1hbmltJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGwuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RTbGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmxvYWRlcicpLnJlbW92ZUNsYXNzKCctYWN0aXZlJykuYWRkQ2xhc3MoJy1oaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtc2NyZWVub2JqJykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2JvZHksaHRtbCcpLnJlbW92ZUNsYXNzKCctaW5tb2RhbCcpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBkZWxheVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB0bC5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuanMtYm5yJykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZGVsYXkgKyAyXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIC8v44Kk44Oz44OI44Ot44Gv77yR5pel77yR5ZueXG4gICAgICAgICAgICAgICAgQ29va2llcy5zZXQoJ3Zpc2l0ZWQnLCAxLCB7IGV4cGlyZXM6IDEgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5zb3VuZF9zZWxlY3QnKS5hZGRDbGFzcygnLWhpZGUnKTtcbiAgICAgICAgICAgICAgICAkKCcubG9hZGVyJykucmVtb3ZlQ2xhc3MoJy1hY3RpdmUnKS5hZGRDbGFzcygnLWhpZGUnKTtcbiAgICAgICAgICAgICAgICAkKCcuanMtc2NyZWVub2JqJykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKCcuanMtYm5yJykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICAgICAgICAgIHNldE5hbWUoKTtcbiAgICAgICAgICAgICAgICBmaXJzdFNsaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXJzdFNsaWRlKCkge1xuICAgICAgICAgICAgc2xpZGVUTCA9IG5ldyBUaW1lbGluZU1heCh7IG9uQ29tcGxldGU6IHNsaWRlIH0pO1xuICAgICAgICAgICAgc2xpZGVUTC50bygnLmwtY2FudmFzX292ZXJsYXknLCAwLjEsIHsgb3BhY2l0eTogMCB9LCAwKTtcblxuICAgICAgICAgICAgc2xpZGVUTC50byhcbiAgICAgICAgICAgICAgICB1bmlmb3JtcyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uU3BlZWQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwRmFjdG9yOiBkaXN0aW5hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogQ2lyYy5lYXNlSW5PdXQsXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfc2xpZGUrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zLnRleHR1cmUxID0gcmVzb3VyY2VzW2N1cnJlbnRTbGlkZURhdGEuYmxvY2tJRCArICcyJ10udGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RpbmF0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzbGlkZSgpIHtcbiAgICAgICAgICAgIC8v44K544Op44Kk44OJ44Gu44Oq44K544K/44O844OI5pmC44Gr5a6M5YWo44Gr44Ot44O844OJ44GM57WC44KP44Gj44Gm44Gq44GE5aC05ZCI44Gv6YGF5bu244GV44Gb44KLXG4gICAgICAgICAgICBpZiAodGhhdC5pbkxvYWRpbmcgJiYgY3VycmVudF9zbGlkZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nIG5vdy4uLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHNsaWRlLCAyMDAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy/jgrnjg6njgqTjg4njga7kuIDnlarnm67jgafmrKHjga7jg5bjg63jg4Pjgq/jga7oqq3jgb/ovrzjgb/jgpLplovlp4vjgZnjgotcbiAgICAgICAgICAgIGlmIChjdXJyZW50X3NsaWRlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy/mrKHjga7jg5bjg63jg4Pjgq/jgpLpnZ7lkIzmnJ/oqq3jgb/ovrzjgb9cbiAgICAgICAgICAgICAgICBsZXQgbmV4dEluZGV4ID0gdGhhdC5ibG9jS0luZGV4ICsgMTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4ID4gdGhhdC5zbGlkZURhdGEubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGF0LmxvYWROZXh0QmxvY2tBc3NldHMobmV4dEluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy/lho3luLDjgZXjgZvjgotcbiAgICAgICAgICAgIHNsaWRlVEwgPSBuZXcgVGltZWxpbmVNYXgoeyBvbkNvbXBsZXRlOiBzbGlkZSB9KTtcbiAgICAgICAgICAgIHNsaWRlVEwudG8oJy5sLWNhbnZhc19vdmVybGF5JywgaW50ZXJ2YWwsIHsgb3BhY2l0eTogMSwgZWFzZTogUG93ZXIxLmVhc2VJbiB9LCAwKTtcblxuICAgICAgICAgICAgc2xpZGVUTC50bygnLmwtY2FudmFzX292ZXJsYXknLCAyLCB7IG9wYWNpdHk6IDAgfSwgaW50ZXJ2YWwpO1xuICAgICAgICAgICAgc2xpZGVUTC50bygnLm1haW5fX3ByZWZ0eHRfX2l0ZW1fX3R4dCcsIDAuNSwgeyBvcGFjaXR5OiAwIH0sIGludGVydmFsKTtcbiAgICAgICAgICAgIHNsaWRlVEwudG8oJy5tYWluX19wcmVmdHh0X19pdGVtX190eHQnLCAwLjEsIHsgb3BhY2l0eTogMSB9LCBpbnRlcnZhbCArIDIpO1xuXG4gICAgICAgICAgICAvKiDpn7Plo7Dlho3nlJ8gKi9cbiAgICAgICAgICAgIC8v5pyA5b6M44Gu6Z+z5aOw44Gu44G/44CB44Kk44Oz44OH44OD44Kv44K544Gu6Zai5L+C5LiK44CB5LiA44Gk5YmN44Gu44OW44Ot44OD44Kv44Gu5pyA5b6M44Gu6KaB57Sg44KS5Y+C54WnXG4gICAgICAgICAgICBpZiAoY3VycmVudF9zbGlkZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxldCBsYXN0aW5kZXggPSB0aGF0LmJsb2NLSW5kZXggPT09IDAgPyB0aGF0LnNsaWRlRGF0YS5sZW5ndGggLSAxIDogdGhhdC5ibG9jS0luZGV4IC0gMTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdERhdGEgPSB0aGF0LnNsaWRlRGF0YVtsYXN0aW5kZXhdO1xuICAgICAgICAgICAgICAgIHJlc291cmNlc1tsYXN0RGF0YS5ibG9ja0lEICsgbGFzdERhdGEuaW1nLmxlbmd0aCArICdfdm9pY2UnXS5zb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc291cmNlc1tjdXJyZW50U2xpZGVEYXRhLmJsb2NrSUQgKyBjdXJyZW50X3NsaWRlICsgJ192b2ljZSddLnNvdW5kLnBsYXkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy/mloflrZfjga7lhaXjgozmm7/jgYhcbiAgICAgICAgICAgIHNsaWRlVEwuY2FsbChcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldE5hbWUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgKyAwLjVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNsaWRlVEwuY2FsbChcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5tYWluX19wcmVmdHh0X19pdGVtJykuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgKyAxLjVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNsaWRlVEwudG8oXG4gICAgICAgICAgICAgICAgdW5pZm9ybXMsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblNwZWVkLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcEZhY3RvcjogZGlzdGluYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6IENpcmMuZWFzZUluT3V0LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3NsaWRlKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8v44K544Op44Kk44OJ44GM44OW44Ot44OD44Kv44Gu57WC56uv44G+44Gn6KiA44Gj44Gf44KJ44CBY3VycmVudFNsaWRlRGF0YeOCkuOBmuOCieOBmVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRfc2xpZGUgPj0gc2xpZGVUb3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYmxvY2tJbmRleOOBruabtOaWsFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYmxvY0tJbmRleCA9PT0gdGhhdC5zbGlkZURhdGEubGVuZ3RoIC0gMSA/ICh0aGF0LmJsb2NLSW5kZXggPSAwKSA6IHRoYXQuYmxvY0tJbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lj4LnhafmuKHjgZfjgavjgZfjgabjgoLjgaPjgajjgo/jgYvjgorjgoTjgZnjgY/jgZnjgotcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2xpZGVEYXRhID0gdGhhdC5zbGlkZURhdGFbdGhhdC5ibG9jS0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZVRvdGFsID0gY3VycmVudFNsaWRlRGF0YS5pbWcubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfc2xpZGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+asoeOBrueUu+WDj+OBruaxuuWumlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRJbWcgPSBjdXJyZW50X3NsaWRlICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RpbmF0aW9uID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0aW5hdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pZm9ybXMudGV4dHVyZTEgPSByZXNvdXJjZXNbY3VycmVudFNsaWRlRGF0YS5ibG9ja0lEICsgbmV4dEltZ10udGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGluYXRpb24gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zLnRleHR1cmUyID0gcmVzb3VyY2VzW2N1cnJlbnRTbGlkZURhdGEuYmxvY2tJRCArIG5leHRJbWddLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbnRlcnZhbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldE1vZGFsKCkge1xuICAgICAgICAgICAgLy/plovjgY9cbiAgICAgICAgICAgICQoJy5qcy1pbmZvX19vcGVuJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8v6IOM5pmv44Gn44Gu6Z+z5aOw44Gu44K544K/44OD44Kv44KS44GZ44G544Gm6Kej5raIXG4gICAgICAgICAgICAgICAgUElYSS5zb3VuZC5zdG9wQWxsKCk7XG4gICAgICAgICAgICAgICAgUElYSS5zb3VuZC5tdXRlQWxsKCk7XG4gICAgICAgICAgICAgICAgJCgnLmpzLW11dGV2b2ljZScpLmFkZENsYXNzKCctbXV0ZScpO1xuXG4gICAgICAgICAgICAgICAgLy/jg5rjg7zjgrjoqq3jgb/ovrzjgb/mmYLjga7pgKPmiZPjgpLpmLLmraJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc291cmNlc1tjdXJyZW50U2xpZGVEYXRhLmJsb2NrSUQgKyBjdXJyZW50X3NsaWRlXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy/jgrnjg6njgqTjg4njga50aW1lbGluZeOCkua2iOWOu+OBmeOCi1xuICAgICAgICAgICAgICAgIHNsaWRlVEwua2lsbCgpO1xuXG4gICAgICAgICAgICAgICAgdW5pZm9ybXMudGV4dHVyZTEgPSByZXNvdXJjZXNbY3VycmVudFNsaWRlRGF0YS5ibG9ja0lEICsgY3VycmVudF9zbGlkZV0udGV4dHVyZTtcbiAgICAgICAgICAgICAgICB1bmlmb3Jtcy50ZXh0dXJlMiA9IG51bGw7XG4gICAgICAgICAgICAgICAgdW5pZm9ybXMuZGlzcEZhY3RvciA9IDA7XG4gICAgICAgICAgICAgICAgLy/jg6Ljg7zjg4Djg6vmmYLjga/kuIDmlrnlkJHjgafjga7jg4jjg6njg7Pjgrjjgrfjg6fjg7PjgavjgZfjgabjgZfjgb7jgYbjgIJcbiAgICAgICAgICAgICAgICBkaXN0aW5hdGlvbiA9IDE7XG5cbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byh1bmlmb3JtcywgdHJhbnNpdGlvblNwZWVkLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BGYWN0b3I6IGRpc3RpbmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBDaXJjLmVhc2VJbk91dCxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFR3ZWVuTWF4LnRvKCcubC1jYW52YXNfb3ZlcmxheScsIDEsIHsgb3BhY2l0eTogMCB9KTtcbiAgICAgICAgICAgICAgICAkKCcuanMtc2NyZWVub2JqJykucmVtb3ZlQ2xhc3MoJy1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCdib2R5LGh0bWwnKS5hZGRDbGFzcygnLWlubW9kYWwnKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAkKCcuaW5mb19tb2RhbCcpLmFkZENsYXNzKCctYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy/plonjgZjjgotcbiAgICAgICAgICAgICQoJy5qcy1pbmZvX19jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKCcuaW5mb19tb2RhbCcpLnJlbW92ZUNsYXNzKCctYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLmpzLXNjcmVlbm9iaicpLmFkZENsYXNzKCctYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnYm9keSxodG1sJykucmVtb3ZlQ2xhc3MoJy1pbm1vZGFsJyk7XG5cbiAgICAgICAgICAgICAgICAvL+OCv+ODluOBruWIneacn+WMllxuICAgICAgICAgICAgICAgICQoJy5qcy10YWJjb250LC5qcy10YWJidG4nKS5yZW1vdmVDbGFzcygnLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5qcy10YWJidG4nKS5lcSgwKS5hZGRDbGFzcygnLWFjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5qcy10YWJjb250JykuZXEoMCkuYWRkQ2xhc3MoJy1hY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIGRpc3RpbmF0aW9uID0gMDtcblxuICAgICAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHVuaWZvcm1zLCB0cmFuc2l0aW9uU3BlZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcEZhY3RvcjogZGlzdGluYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6IENpcmMuZWFzZUluT3V0LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dEltZyA9IGN1cnJlbnRfc2xpZGUgPT0gc2xpZGVUb3RhbCA/IDEgOiBjdXJyZW50X3NsaWRlICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaWZvcm1zLnRleHR1cmUyID0gcmVzb3VyY2VzW2N1cnJlbnRTbGlkZURhdGEuYmxvY2tJRCArIG5leHRJbWddLnRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0aW5hdGlvbiA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8v44K544Op44Kk44OJ44K344On44O844KS5YaN55SfXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxjUmF0aW8oKSB7XG4gICAgICAgIC8v55S76Z2i44Gr44K544Kx44O844Oq44Oz44Kw44GV44Gb44KL57im5qiq5q+U546HXG4gICAgICAgIC8v44OW44Op44Km44K244Gu44OE44O844Or44OQ44O844KC5ZCr44KB44Gf55S75YOP5a+45rOV44Gr5aSJ5pu0OjA1MDR2ZXJcbiAgICAgICAgbGV0IGltZ1JleiA9IHRoaXMubnJ3ID8gWzc1MCwgMTQ0MF0gOiBbMTkyMCwgOTcwXTtcbiAgICAgICAgbGV0IHJhdGlvID0geyB4OiAxLCB5OiAxIH07XG5cbiAgICAgICAgcmF0aW8ueCA9IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0IC8gKGltZ1JlelswXSAvIGltZ1JlelsxXSksIDEuMCk7XG4gICAgICAgIHJhdGlvLnkgPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJIZWlnaHQgLyB3aW5kb3cuaW5uZXJXaWR0aCAvIChpbWdSZXpbMV0gLyBpbWdSZXpbMF0pLCAxLjApO1xuXG4gICAgICAgIHJldHVybiByYXRpbztcbiAgICB9XG5cbiAgICBzZXRGdWxsc2NyZWVuQ2FudmFzKCkge1xuICAgICAgICAvL+ODquOCteOCpOOCuuOCpOODmeODs+ODiOOBjOOCueOCr+ODreODvOODq+OBp+mAo+e2muOBp+eZuueUn+OBl+OBquOBhOOCiOOBhuOBq+OBmeOCi1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7XG5cbiAgICAgICAgdGhpcy5yZXNpemVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy9yYXRpbyxjYW52YXPjgrXjgqTjgrrjgIHmj4/nlLvpoJjln5/jgpLlho3oqIjnrpdcbiAgICAgICAgICAgIHRoaXMuYXBwLnJlbmRlcmVyLnJlc2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCB3aW5kb3cuaW5uZXJIZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICB0aGlzLmFwcC52aWV3LnN0eWxlLndpZHRoID0gd2luZG93LmlubmVyV2lkdGggKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5hcHAudmlldy5zdHlsZS5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKyAncHgnO1xuXG4gICAgICAgICAgICAvL+ODleOCo+ODq+OCv+ODvOOCkuOBguOBpuOCi+OBn+OCgeOBq+W/heimgVxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5iZWdpbkZpbGwoMHgwMDAwMDApO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5kcmF3UmVjdCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLCB3aW5kb3cuaW5uZXJIZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmVuZEZpbGwoKTtcblxuICAgICAgICAgICAgdGhpcy5teUZpbHRlci51bmlmb3Jtcy5yYXRpbyA9IHRoaXMuY2FsY1JhdGlvKCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfVxufVxuIiwiY29uc3Qgc3JjID0gYFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xudW5pZm9ybSBmbG9hdCB0aW1lO1xudW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZTE7XG51bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlMjtcbnVuaWZvcm0gc2FtcGxlcjJEIGRpc3A7XG51bmlmb3JtIHZlYzIgcmF0aW87XG51bmlmb3JtIGZsb2F0IGRpc3BGYWN0b3I7XG51bmlmb3JtIGZsb2F0IGludGVuc2l0eTtcblxudm9pZCBtYWluKHZvaWQpIHtcblxuICAgIC8v44Km44Kj44Oz44OJ44Km44Gr44Ki44K55q+U44KS5a6I44KK44Gk44Gk44OV44Kj44OD44OIXG4gICAgdmVjMiB1diA9IHZlYzIoXG4gICAgdlRleHR1cmVDb29yZC54ICogcmF0aW8ueCArICgxLjAgLSByYXRpby54KSAqIDAuNSxcbiAgICB2VGV4dHVyZUNvb3JkLnkgKiByYXRpby55ICsgKDEuMCAtIHJhdGlvLnkpICogMC41XG4gICAgKTtcblxuICAgIHZlYzQgZGlzcCA9IHRleHR1cmUyRChkaXNwLCB1dik7XG5cbiAgICB2ZWMyIGRpc3RvcnRlZFBvc2l0aW9uID0gdmVjMih1di54ICsgZGlzcEZhY3RvciAqIChkaXNwLnIgKiBpbnRlbnNpdHkpLCB1di55ICsgZGlzcEZhY3RvciAqIChkaXNwLnIgKiBpbnRlbnNpdHkpKTtcbiAgICB2ZWMyIGRpc3RvcnRlZFBvc2l0aW9uMiA9IHZlYzIodXYueCAtICgxLjAgLSBkaXNwRmFjdG9yKSAqIChkaXNwLnIgKiBpbnRlbnNpdHkpLCB1di55IC0gKDEuMCAtIGRpc3BGYWN0b3IpICogKGRpc3AuciAqIGludGVuc2l0eSkpO1xuXG4gICAgdmVjNCBfdGV4dHVyZTEgPSB0ZXh0dXJlMkQodGV4dHVyZTEsIGRpc3RvcnRlZFBvc2l0aW9uKTtcbiAgICB2ZWM0IF90ZXh0dXJlMiA9IHRleHR1cmUyRCh0ZXh0dXJlMiwgZGlzdG9ydGVkUG9zaXRpb24yKTtcblxuICAgIHZlYzQgZmluYWxUZXh0dXJlID0gbWl4KF90ZXh0dXJlMSwgX3RleHR1cmUyLCBkaXNwRmFjdG9yKTtcblxuICAgIGdsX0ZyYWdDb2xvciA9IGZpbmFsVGV4dHVyZTtcbn1gO1xuXG5leHBvcnQgZGVmYXVsdCBzcmM7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVSSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaXNpT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmV8aVBhZHxpUG9kLyk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMudGFiKCk7XG4gICAgdGhpcy5yZW1vdmVDb250ZXh0bWVudSgpO1xuICAgIHRoaXMuc2V0RW52Q2xhc3MoKTtcbiAgICB0aGlzLnRvZ2dsZU11dGUoKTtcbiAgICB0aGlzLmluZm9tb2RhbFZvaWNlKCk7XG4gIH1cblxuICB0YWIoKSB7XG4gICAgJChcIi5qcy10YWJidG5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKFwiLmpzLXRhYmJ0blwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcblxuICAgICAgY29uc3QgdGd0ID0gJCh0aGlzKS5hdHRyKFwiZGF0YS10YWJcIik7XG5cbiAgICAgICQoXCIuanMtdGFiY29udFwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKCcuanMtdGFiY29udFtkYXRhLXRhYj1cIicgKyB0Z3QgKyAnXCJdJykuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlTXV0ZSgpIHtcbiAgICAkKFwiLmpzLW11dGV2b2ljZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcIi1tdXRlXCIpKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCItbXV0ZVwiKTtcbiAgICAgICAgd2luZG93LmlzTXV0ZSA9IHRydWU7XG4gICAgICAgIFBJWEkuc291bmQubXV0ZUFsbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIi1tdXRlXCIpO1xuICAgICAgICB3aW5kb3cuaXNNdXRlID0gZmFsc2U7XG4gICAgICAgIFBJWEkuc291bmQudW5tdXRlQWxsKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpbmZvbW9kYWxWb2ljZSgpIHtcbiAgICBsZXQgcGxheWluZyA9IGZhbHNlO1xuICAgIGxldCB2b2ljZSA9IG51bGw7XG4gICAgbGV0ICRidXR0b24gPSAkKFwiLmpzLWluZm9tb2RhbF92b2ljZVwiKTtcblxuICAgICRidXR0b24ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvL+mAo+aJk+mYsuatolxuICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCAkYnV0dG9uID0gJCh0aGlzKTtcblxuICAgICAgJGJ1dHRvbi5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG5cbiAgICAgIHBsYXlpbmcgPSB0cnVlO1xuICAgICAgLy9odG1sNSBBdWRpb+OBp+WHpueQhlxuICAgICAgdm9pY2UgPSBuZXcgQXVkaW8oYC9yZXdhcmQvdm9pY2UvaW50cm9fYzYzZ3ZleDkubXAzYCk7XG4gICAgICB2b2ljZS5sb2FkKCk7XG5cbiAgICAgIGlmICh2b2ljZS5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgIHZvaWNlLnBsYXkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZvaWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLCAoZSkgPT4ge1xuICAgICAgICAgIHZvaWNlLnBsYXkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZvaWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCAoZSkgPT4ge1xuICAgICAgICBwbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICRidXR0b24ucmVtb3ZlQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKFwiLmpzLWluZm9fX2Nsb3NlXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgdm9pY2UucGF1c2UoKTtcbiAgICAgICAgcGxheWluZyA9IGZhbHNlO1xuICAgICAgICAkYnV0dG9uLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUNvbnRleHRtZW51KCkge1xuICAgIC8v44K144Kk44OI5YWo5L2T44Gn44CB5Y+z44Kv44Oq44OD44Kv56aB5q2iXG4gICAgZG9jdW1lbnQuYm9keS5vbmNvbnRleHRtZW51ID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cblxuICBzZXRFbnZDbGFzcygpIHtcbiAgICBsZXQgZW52Q2xhc3MgPSBcIlwiO1xuICAgIGlmICh0aGlzLmlzaU9TKSB7XG4gICAgICBlbnZDbGFzcyA9IFwiLWlPU1wiO1xuICAgIH1cblxuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKGVudkNsYXNzKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJjaGl2ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuJGRvbSA9IHtcbiAgICAgIGZ1bGxzaXplX3NjcmVlbjogJChcIi5mdWxsc2l6ZV9zY3JlZW5cIiksXG4gICAgICBmdWxsc2l6ZV9zY3JlZW5fX3BoOiAkKFwiLmZ1bGxzaXplX3NjcmVlbl9fcGhcIiksXG4gICAgICBmdWxsc2l6ZV9zY3JlZW5fX3Byb2dyZXNzOiAkKFwiLmZ1bGxzaXplX3NjcmVlbl9fcHJvZ3Jlc3NcIiksXG4gICAgICBmdWxsc2l6ZV9zY3JlZW5fX3ZvaWNlOiAkKFwiLmpzLWZ1bGxzaXplX3NjcmVlbl92b2ljZVwiKSxcbiAgICAgIGFyY2hpdmVfdm9pY2U6ICQoJy5qcy1hcmNoaXZlX3ZvaWNlJyksXG4gICAgfTtcblxuICAgIHRoaXMucmV3YXJkQ2hhcmFMaXN0ID0gW107XG4gICAgdGhpcy5hY2hpZXZlbWVudExpc3QgPSBbXTtcbiAgICB0aGlzLnByZWZBY2hpZXZlbWVudExpc3QgPSBbXTtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLmNyZWF0ZVJld2FyZENoYXJhTGlzdCgpO1xuICAgIC8vdGhpcy5ldmVudEJpbmQoKTtcbiAgICAvL3RoaXMuYmxvY2tBY2MoKTtcbiAgICAvL3RoaXMuc2V0SW5mbygwKTtcbiAgfVxuXG4gIGNyZWF0ZVJld2FyZENoYXJhTGlzdCgpIHtcbiAgICAvKlxuICAgIHdpbmRvdy5yZXdhcmREYXRhLmZvckVhY2goKGVsbSkgPT4ge1xuICAgICAgdGhpcy5yZXdhcmRDaGFyYUxpc3QgPSB0aGlzLnJld2FyZENoYXJhTGlzdC5jb25jYXQoZWxtLmNoYXJhTGlzdCk7XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyh0aGlzLnJld2FyZENoYXJhTGlzdCk7XG4gICAgKi9cblxuICAgICQuYWpheCgnL3Jld2FyZC9yZXdhcmRsaXN0Lmh0bWwnLCB7ZGF0YVR5cGU6J2pzb24nfSlcbiAgICAgIC5kb25lKChkYXRhLCB0ZXh0U3RhdHVzLCB4aHIpPT57XG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbG0pID0+IHtcbiAgICAgICAgICB0aGlzLnJld2FyZENoYXJhTGlzdCA9IHRoaXMucmV3YXJkQ2hhcmFMaXN0LmNvbmNhdChlbG0uY2hhcmFMaXN0KTtcbiAgICAgICAgICB0aGlzLmFjaGlldmVtZW50TGlzdCA9IHRoaXMuYWNoaWV2ZW1lbnRMaXN0LmNvbmNhdChlbG0uYWNoaWV2ZW1lbnQpO1xuXG4gICAgICAgICAgZm9yKGxldCBpPTA7IGk8ZWxtLmNoYXJhTGlzdC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICB0aGlzLnByZWZBY2hpZXZlbWVudExpc3QucHVzaChlbG0uYWNoaWV2ZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ldmVudEJpbmQoKTtcbiAgICAgICAgdGhpcy5ibG9ja0FjYygpO1xuICAgICAgICB0aGlzLnNldEluZm8oMCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHNldEluZm8odGd0LCB2aXNpYmxlT25lKSB7XG4gICAgY29uc3QgZGF0YSA9IHdpbmRvdy5hcmNoaXZlRGF0YVt0Z3RdO1xuICAgIGNvbnN0IGNyZWRpdEFycmF5ID0gW1wicHJlZlwiLCBcInNlcnZhbnRcIiwgXCJjdlwiLCBcImNvcHlcIiwgXCJzcG90XCIsIFwiaWxsdXN0XCIsIFwibWVkaWFcIl07XG4gICAgdGhpcy50Z3QgPSB0Z3Q7XG5cbiAgICAvL+ODquODr+ODvOODieOBr+WIpeOBrkpTT07jgYvjgonoqq3jgb/ovrzjgpPjgaDjgoLjga7jgpLliqDlt6XjgZnjgotcbiAgICBjb25zdCB0YXJnZXRSZXdhcmQgPSB0aGlzLnJld2FyZENoYXJhTGlzdC5maWx0ZXIoXG4gICAgICAoZWxtKSA9PiBlbG0ucHJlZiA9PT0gZGF0YS5pZFxuICAgICk7XG5cbiAgICAvLy3lp4vjgb7jgorjgYvjgonlp4vjgb7jgovjgq/jg6njgrnjgpLliYrpmaRcbiAgICAkKFwiLmpzLWFyY2hpdmVfdHRsX19pY29cIikucmVtb3ZlQ2xhc3MoZnVuY3Rpb24gKGluZGV4LCBjbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiAoY2xhc3NOYW1lLm1hdGNoKC8tXFxTKy9nKSB8fCBbXSkuam9pbihcIiBcIik7XG4gICAgfSk7XG5cbiAgICAkKFwiLmpzLWFyY2hpdmVfdHRsX19pY29cIikuYWRkQ2xhc3MoXCItdyAtXCIgKyBkYXRhLmlkKTtcbiAgICAkKFwiLmpzLWFyY2hpdmVfdHRsXCIpLnRleHQoZGF0YS5pZCk7XG5cbiAgICAkKFwiLmpzLWFyY2hpdmVfY3JlZGl0XCIpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgIC8vaHRtbOOCv+OCsOOCkuWPluOCiumZpOOBj1xuICAgICAgbGV0IHRyaW1tZWREYXRhID0gXCJcIjtcblxuICAgICAgLy/jgrvjg6rjg5Xpg6jliIbjga7jgr/jgrDjga/lj5bjgorpmaTjgYvjgarjgYRcbiAgICAgIGlmIChkYXRhW2NyZWRpdEFycmF5W2ldXSkge1xuICAgICAgICBpZiAoY3JlZGl0QXJyYXlbaV0gIT09IFwiY29weVwiKSB7XG4gICAgICAgICAgdHJpbW1lZERhdGEgPSBkYXRhW2NyZWRpdEFycmF5W2ldXS5yZXBsYWNlKC88Lio+LywgXCJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJpbW1lZERhdGEgPSBkYXRhW2NyZWRpdEFycmF5W2ldXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgJCh0aGlzKS5odG1sKHRyaW1tZWREYXRhKTtcbiAgICB9KTtcblxuICAgIC8v55S75YOP44KS44K744OD44OIXG4gICAgJChcIi5qcy1hcmNoaXZlX3BoXCIpLmF0dHIoXCJzcmNcIiwgXCJcIik7XG5cbiAgICBjb25zdCBwaG90byA9IG5ldyBJbWFnZSgpO1xuICAgIHBob3RvLnNyYyA9IFwiL2Fzc2V0cy9pbWcvYXJjaGl2ZS9waC9cIiArIGRhdGEuaWQgKyBcIi5qcGdcIjtcblxuICAgIHBob3RvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICQoXCIuanMtYXJjaGl2ZV9waFwiKS5hdHRyKFwic3JjXCIsIHBob3RvLnNyYyk7XG4gICAgfSk7XG5cbiAgICAvL+ODiuODk+OBruOCq+ODrOODs+ODiOWMllxuICAgICQoXCIuYXJjaGl2ZV9fbGlzdF9faXRlbS4tYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAkKFwiLmFyY2hpdmVfX2xpc3RfX2l0ZW1cIikuZXEodGd0KS5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG5cbiAgICAvL+OCouOCs+ODvOODh+OCo+OCquODs+OCguOCq+ODrOODs+ODiOWMlih2aXNpYmxlT25l44KC5rih44GZKVxuICAgIGNvbnN0IHRhcmdldEFjYyA9ICQoXCIuanMtYXJjaGl2ZV9fdGh1bWJidG4uLWFjdGl2ZVwiKVxuICAgICAgLnBhcmVudHMoKVxuICAgICAgLmF0dHIoXCJkYXRhLWJsb2NrYXJlYVwiKTtcbiAgICB0aGlzLnNldEN1cnJlbnRBY2ModGFyZ2V0QWNjLCB2aXNpYmxlT25lKTtcblxuICAgIC8v6Z+z5aOw44Oc44K/44Oz44Gu44K744OD44OIXG4gICAgaWYodGhpcy52b2ljZSkgdGhpcy52b2ljZS5wYXVzZSgpO1xuICAgIGlmKHRoaXMucHJlZkFjaGlldmVtZW50TGlzdFt0Z3RdKSB0aGlzLnNldEF1ZGlvKHRhcmdldFJld2FyZFswXS5pZCk7XG4gICAgZWxzZSB0aGlzLmhpZGVBdWRpbygpO1xuICB9XG5cbiAgY2hhbmdlQXJjaGl2ZUxpc3QoZWxtKSB7XG4gICAgLy8gLy/jgZnjgbnjgabkuIDmsJfjgavlpInmm7TvvJpkZWxheeOBquOBl1xuICAgIGNvbnN0IHRndCA9IGVsbS5hdHRyKFwiZGF0YS1jYXRcIik7XG5cbiAgICAvL+WIneacn+WMllxuICAgICQoXCIuYXJjaGl2ZV9fdHRsYXJlYV9fY2F0ZWdvcnlfX3R4dFwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgJChcIi5hcmNoaXZlX19saXN0X19pdGVtX19waF9faXRlbVwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgJChcIi5hcmNoaXZlX19saXN0X19pdGVtX190dGxcIikucmVtb3ZlQ2xhc3MoXCItYWN0aXZlXCIpO1xuXG4gICAgJChcIi5hcmNoaXZlX19saXN0X19pdGVtX19waF9faXRlbS4tXCIgKyB0Z3QpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAkKFwiLmFyY2hpdmVfX2xpc3RfX2l0ZW1fX3R0bC4tXCIgKyB0Z3QpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcblxuICAgIGVsbS5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG4gIH1cblxuICBzZXRDb250YWluU2l6ZSgpIHtcbiAgICBjb25zdCAkZG9tID0gdGhpcy4kZG9tO1xuXG4gICAgLy/jgqLjgq/jg4bjgqPjg5bjgYvjgaRQQ+OBruOBqOOBjSAxOjQuNjM3Njjjga/nuKbmqKrmr5TvvIhmdWxsc2l6ZeOBp+S4gOeVque4puaoquavlOOBruWkp+OBjeOBhOOCguOBru+8iVxuICAgIGlmICgkZG9tLmZ1bGxzaXplX3NjcmVlbi5oYXNDbGFzcyhcIi1hY3RpdmVcIikgJiYgd2luZG93LmlubmVyV2lkdGggPiA3NjgpIHtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCA8PSA0LjYzNzY4KSB7XG4gICAgICAgIC8v57im5qiq5q+U44KI44KK5bCP44GV44GE44Go44GN44Gr5qiq44GM44Gv44G/5Ye644KLXG4gICAgICAgICRkb20uZnVsbHNpemVfc2NyZWVuX19waC5hZGRDbGFzcyhcIi1maXRfd1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRkb20uZnVsbHNpemVfc2NyZWVuX19waC5yZW1vdmVDbGFzcyhcIi1maXRfd1wiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldEZTVm9pY2VQb3MoKTtcbiAgfVxuXG4gIGxvYWRGdWxsSW1hZ2UoX3NyYykge1xuICAgIGNvbnN0ICRkb20gPSB0aGlzLiRkb207XG5cbiAgICAkZG9tLmZ1bGxzaXplX3NjcmVlbl9fcHJvZ3Jlc3MucmVtb3ZlQ2xhc3MoXCItY29tcGxldGVcIik7XG4gICAgJGRvbS5mdWxsc2l6ZV9zY3JlZW5fX3BoLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAkZG9tLmZ1bGxzaXplX3NjcmVlbl9fdm9pY2UuY3NzKHtkaXNwbGF5Oidub25lJ30pO1xuXG4gICAgLy/vvIXjgpLkvb/jgYTjgZ/jgYTjga7jgafjgIFwaXhp44Gu44Ot44O844OA44O844KS5L2/44GGXG4gICAgY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkO1xuXG4gICAgaWYgKGxvYWRlci5yZXNvdXJjZXNbX3NyY10pIHtcbiAgICAgIC8v44GZ44Gn44Gr44Ot44O844OJ44GV44KM44Gm44GE44KL5aC05ZCIXG4gICAgICAkZG9tLmZ1bGxzaXplX3NjcmVlbl9fcGguYXR0cihcInNyY1wiLCBfc3JjKTtcbiAgICAgICRkb20uZnVsbHNpemVfc2NyZWVuX19wcm9ncmVzcy5hZGRDbGFzcyhcIi1jb21wbGV0ZVwiKTtcbiAgICAgICRkb20uZnVsbHNpemVfc2NyZWVuX19waC5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICBcbiAgICAgIHNldFNjcm9sbCgpO1xuICAgICAgdGhpcy5zaG93RnVsbFNjcmVlblZvaWNlKCk7XG4gICAgICB0aGlzLnNldEZTVm9pY2VQb3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy/liJ3lm57jg63jg7zjg4lcbiAgICAgIGxvYWRlci5hZGQoX3NyYywgX3NyYyk7XG5cbiAgICAgIGxvYWRlci5vbihcInByb2dyZXNzXCIsIChsb2FkZXIpID0+IHtcbiAgICAgICAgbGV0IHByb2dyZXNzID0gbG9hZGVyLnByb2dyZXNzIC8gMTAwO1xuICAgICAgICAkZG9tLmZ1bGxzaXplX3NjcmVlbl9fcHJvZ3Jlc3MuY3NzKFxuICAgICAgICAgIFwidHJhbnNmb3JtXCIsXG4gICAgICAgICAgXCJzY2FsZVgoXCIgKyBwcm9ncmVzcyArIFwiKVwiXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGxvYWRlci5wcm9ncmVzcyA9PSAxMDApIHtcbiAgICAgICAgICAkZG9tLmZ1bGxzaXplX3NjcmVlbl9fcGguYXR0cihcInNyY1wiLCBfc3JjKTtcbiAgICAgICAgICAkZG9tLmZ1bGxzaXplX3NjcmVlbl9fcHJvZ3Jlc3MuYWRkQ2xhc3MoXCItY29tcGxldGVcIik7XG4gICAgICAgICAgJGRvbS5mdWxsc2l6ZV9zY3JlZW5fX3BoLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRTY3JvbGwoKTtcbiAgICAgICAgICB0aGlzLnNob3dGdWxsU2NyZWVuVm9pY2UoKTtcbiAgICAgICAgICB0aGlzLnNldEZTVm9pY2VQb3MoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U2Nyb2xsKCkge1xuICAgICAgLy9TUOOBp+OBruOBv+OAgeeUu+WDj+OBjOOCu+ODs+OCv+ODvOOBq+OBquOCi+OCiOOBhuOBq+OCueOCr+ODreODvOODq1xuICAgICAgLy9zZXR0aW1lb3V044GX44Gq44GE44Go44CB44K544Kv44Ot44O844Or44Gn44GN44Gq44GL44Gj44GfICAodG9kbzrjgrnjgq/jg63jg7zjg6vph4/jga7mraPjgZfjgYToqIjnrpfjgpLjgZnjgospXG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9mZnNldF94ID0gJGRvbS5mdWxsc2l6ZV9zY3JlZW5fX3BoLndpZHRoKCkgLyA1O1xuICAgICAgICAgICQoXCIuZnVsbHNpemVfc2NyZWVuXCIpLnNjcm9sbExlZnQob2Zmc2V0X3gpO1xuICAgICAgICB9LCAxMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYmxvY2tBY2MoKSB7XG4gICAgLy/jgqLjgrPjg7zjg4fjgqPjgqrjg7NcbiAgICAkKFwiLmpzLWFjY19vcGVuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCItZGlzYWJsZVwiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvL0NTU+OBruOBv+OBoOOBqOWPr+WkiemrmOOBleOBq+WvvuW/nOOBp+OBjeOBquOBhOOBruOBp+OAgUpT44Gn44KE44KLXG4gICAgICBjb25zdCAkd3JhcHBlciA9ICQodGhpcykubmV4dChcIi5qcy1hY2NcIik7XG4gICAgICBjb25zdCBoZWlnaHQgPSAkd3JhcHBlci5maW5kKFwiLmpzLWFjY19fY29udFwiKS5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgLy90b2dnbGVDbGFzc+OBr+S9v+OCj+OBmuOAglxuICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwiLWFjdGl2ZVwiKSkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgICAgJHdyYXBwZXIuY3NzKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgICAgJHdyYXBwZXIuY3NzKFwiaGVpZ2h0XCIsIDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0Q3VycmVudEFjYyh0YXJnZXQsIHZpc2libGVPbmUpIHtcbiAgICAvL+WIneacn+WMluOBmeOCi+WgtOWQiFxuICAgIGlmICh2aXNpYmxlT25lKSB7XG4gICAgICAkKFwiLmpzLWFjY1wiKS5jc3MoXCJoZWlnaHRcIiwgMCk7XG4gICAgICAkKFwiLmpzLWFjY19vcGVuXCIpLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICAvL+WvvuixoeOBruOCouOCs+ODvOODh+OCo+OCquODs+OBruOCq+ODrOODs+ODiOWMllxuICAgIGNvbnN0ICR0YXJnZXQgPSAkKGAuanMtYWNjX29wZW5bZGF0YS1ibG9ja2FyZWE9XCIke3RhcmdldH1cIl1gKTtcblxuICAgICR0YXJnZXQuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgIGNvbnN0ICR3cmFwcGVyID0gJHRhcmdldC5uZXh0KFwiLmpzLWFjY1wiKTtcblxuICAgICR3cmFwcGVyLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICBjb25zdCBoZWlnaHQgPSAkd3JhcHBlci5maW5kKFwiLmpzLWFjY19fY29udFwiKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAkd3JhcHBlci5jc3MoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgfVxuXG4gIGV2ZW50QmluZCgpIHtcbiAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICBsZXQgZGlyZWN0aW9uID0gXCJcIjtcblxuICAgIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAg44OH44Kj44OG44O844Or44KS44Kq44O844OX44Oz44GZ44KLXG4gICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovIDE7XG5cbiAgICAkKFwiLmpzLWFyY2hpdmVfX3RodW1iYnRuXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAkKFwiLmFyY2hpdmVfX2RldGFpbCwuYXJjaGl2ZV9fZGV0YWlsX19pbm5lclwiKS5yZW1vdmVDbGFzcyhcbiAgICAgICAgXCItYWN0aXZlIC1vcGVuIC1mcm9tTCAtZnJvbVJcIlxuICAgICAgKTtcbiAgICAgICQoXCIuYXJjaGl2ZV9fYmxvY2thcmVhX19zY3JvbGx3cmFwcGVyXCIpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgICQoXCIuYXJjaGl2ZV9fdHRsYXJlYV9fYmFja1wiKS5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKFwiLmFyY2hpdmVfX3R0bGFyZWFfX2NhdGVnb3J5XCIpLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcblxuICAgICAgbGV0IGlkID0gJCh0aGlzKS5hdHRyKFwiZGF0YS1pZFwiKTtcbiAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgIC8vaW5kZXjjgpLmsYLjgoHjgotcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2luZG93LmFyY2hpdmVEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vaW5kZXjjga7msbrlrppcbiAgICAgICAgaWYgKGlkID09PSB3aW5kb3cuYXJjaGl2ZURhdGFbaV0uaWQpIHtcbiAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9hY3RpdmXjgpLlho3luqbjgaTjgZHjgabjgqLjg4vjg6Hjg7zjgrfjg6fjg7PjgpLlho3nlJ9cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvL2RpcmVjdGlvbuOCkuS/neWtmOOBl+OBpuOBiuOBj1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwicHJldlwiKSB7XG4gICAgICAgICAgJChcIi5hcmNoaXZlX19kZXRhaWwsLmFyY2hpdmVfX2RldGFpbF9faW5uZXJcIikuYWRkQ2xhc3MoXG4gICAgICAgICAgICBcIi1hY3RpdmUgLWZyb21MXCJcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIuYXJjaGl2ZV9fZGV0YWlsLC5hcmNoaXZlX19kZXRhaWxfX2lubmVyXCIpLmFkZENsYXNzKFxuICAgICAgICAgICAgXCItYWN0aXZlIC1mcm9tUlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGF0LnNldEluZm8oaW5kZXgpO1xuICAgICAgfSwgMTApO1xuICAgIH0pO1xuXG4gICAgLy/jgrnjg57jg5vjgafjga7miLvjgovooajnpLpcbiAgICAkKFwiLmFyY2hpdmVfX3R0bGFyZWFfX2JhY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKFwiLmFyY2hpdmVfX2RldGFpbCwuYXJjaGl2ZV9fYmxvY2thcmVhX19zY3JvbGx3cmFwcGVyXCIpLnJlbW92ZUNsYXNzKFxuICAgICAgICBcIi1hY3RpdmVcIlxuICAgICAgKTtcbiAgICAgICQoXCIuYXJjaGl2ZV9fdHRsYXJlYV9fY2F0ZWdvcnlcIikuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICAvL+ODouODvOODgOODq+OCquODvOODl+ODs1xuICAgICQoXCIuanMtYXJjaGl2ZV9fb3BlblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy/og4zmma/jgafps7TjgaPjgabjgYTjgovpn7Plo7DjgpLlhajjg5/jg6Xjg7zjg4hcbiAgICAgIFBJWEkuc291bmQubXV0ZUFsbCgpO1xuICAgICAgJCgnLmpzLW11dGV2b2ljZScpLmFkZENsYXNzKFwiLW11dGVcIik7XG5cblxuICAgICAgJChcIi5hcmNoaXZlX21vZGFsXCIpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgICQoXCJib2R5LGh0bWxcIikuYWRkQ2xhc3MoXCItaW5tb2RhbFwiKTtcbiAgICAgICQoXCIuYXJjaGl2ZV9fZGV0YWlsXCIpLmFkZENsYXNzKFwiLW9wZW5cIik7XG5cbiAgICAgIC8vIGFjaGlldmVtZW50XG4gICAgICB0aGF0LnNldEFjaGlldmVtZW50KCk7XG5cbiAgICAgIC8v44Ki44OL44Oh44O844K344On44Oz44KS5YaN55Sf77yIZGVsYXnjgYLjgorvvIlcbiAgICAgICQoXCIuYXJjaGl2ZV9fbGlzdF9faXRlbV9fcGhfX2l0ZW0uLWFjdGl2ZVwiKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgICAgfSwgaSAqIDQwICsgMjAwKTtcbiAgICAgIH0pO1xuXG4gICAgICAvL0lE5oyH5a6a44Gu6KaB57Sg44GL44KJ6LW35YuV44GX44Gf5aC05ZCIXG4gICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS1pZFwiKSkge1xuICAgICAgICBjb25zdCBpZCA9ICQodGhpcykuYXR0cihcImRhdGEtaWRcIik7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gJCgnLmpzLWFyY2hpdmVfX3RodW1iYnRuW2RhdGEtaWQ9XCInICsgaWQgKyAnXCJdJykuaW5kZXgoXG4gICAgICAgICAgXCIuanMtYXJjaGl2ZV9fdGh1bWJidG5cIlxuICAgICAgICApO1xuXG4gICAgICAgIC8vQXJjaGl2ZeODnOOCv+ODs+OBi+OBpOOCueODnuODm+OBruWgtOWQiOOBr+WHpueQhuOCkuWkieOBiOOCiztcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJtYWluX19hcmNoaXZlYnRuXCIpICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkge1xuICAgICAgICAgIHNldEFyZWFTY3JlZW4oKTtcbiAgICAgICAgICB0aGF0LnNldEluZm8oaW5kZXgsIFwidmlzaWJsZU9uZVwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0LnNldEluZm8oaW5kZXgsIFwidmlzaWJsZU9uZVwiKTtcbiAgICAgICAgc2V0RGV0YWlsU2NyZWVuKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzZXREZXRhaWxTY3JlZW4oKSB7XG4gICAgICAvL+OCueODnuODm+OBp+OBruOBvzo66Kmz57Sw55S76Z2i44Gu6KGo56S6XG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA3NjgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgJChcIi5hcmNoaXZlX190dGxhcmVhX19jYXRlZ29yeVwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKFwiLmFyY2hpdmVfX3R0bGFyZWFfX2JhY2tcIikuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgJChcIi5hcmNoaXZlX19ibG9ja2FyZWFfX3Njcm9sbHdyYXBwZXJcIikuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgJChcIi5hcmNoaXZlX19kZXRhaWxcIikuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEFyZWFTY3JlZW4oKSB7XG4gICAgICAvL+OCueODnuODm+OBp+OBruOBvzo644Oq44K544OI55S76Z2i44Gu6KGo56S6XG4gICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiA3NjgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgJChcIi5hcmNoaXZlX190dGxhcmVhX19jYXRlZ29yeVwiKS5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKFwiLmFyY2hpdmVfX3R0bGFyZWFfX2JhY2tcIikucmVtb3ZlQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgJChcIi5hcmNoaXZlX19ibG9ja2FyZWFfX3Njcm9sbHdyYXBwZXJcIikucmVtb3ZlQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgICAgJChcIi5hcmNoaXZlX19kZXRhaWxcIikucmVtb3ZlQ2xhc3MoXCItYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIC8v44Oi44O844OA44Or44Kv44Ot44O844K6XG4gICAgJChcIi5qcy1hcmNoaXZlX19jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoXCIuYXJjaGl2ZV9tb2RhbFwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKFwiLmFyY2hpdmVfX2RldGFpbFwiKS5yZW1vdmVDbGFzcyhcIi1vcGVuXCIpO1xuICAgICAgJChcImJvZHksaHRtbFwiKS5yZW1vdmVDbGFzcyhcIi1pbm1vZGFsXCIpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIi5hcmNoaXZlX190dGxhcmVhX19jYXRlZ29yeVwiKS5hZGRDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAgICQoXG4gICAgICAgICAgXCIuYXJjaGl2ZV9fZGV0YWlsLC5hcmNoaXZlX19saXN0LC5hcmNoaXZlX190dGxhcmVhX19iYWNrXCJcbiAgICAgICAgKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICB9LCA0MDApO1xuXG4gICAgICAkKCcuYXJjaGl2ZV9fYWNjdHRsJykucmVtb3ZlQ2xhc3MoJy1hY2hpZXZlJyk7XG4gICAgICBpZih0aGF0LnZvaWNlKSB0aGF0LnZvaWNlLnBhdXNlKCk7XG4gICAgfSk7XG5cbiAgICAkKFwiLmFyY2hpdmVfX3R0bGFyZWFfX2NhdGVnb3J5X190eHRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LmNoYW5nZUFyY2hpdmVMaXN0KCQodGhpcykpO1xuICAgIH0pO1xuXG4gICAgLy/jg5Xjg6vjgrXjgqTjgrrjg6Ljg7zjg4Djg6sg44Kq44O844OX44OzXG4gICAgJChcIi5qcy1mdWxsc2l6ZV9zY3JlZW5fX29wZW5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkKFwiLmZ1bGxzaXplX3NjcmVlbl9fcGhcIikucmVtb3ZlQ2xhc3MoXCItaGVpZ2h0MjAgLXZlcnRpY2FsXCIpO1xuICAgICAgJChcIi5mdWxsc2l6ZV9zY3JlZW5cIikuYWRkQ2xhc3MoXCItYWN0aXZlXCIpO1xuXG4gICAgICBsZXQgdGd0c3JjID0gXCJcIjtcblxuICAgICAgLy9mdWxsc2l6ZeeUu+WDj+OBruiqreOBv+i+vOOBv++8iOmBheW7tuODreODvOODieOBmeOCi++8iVxuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCItc3RhdGlvblwiKSkge1xuICAgICAgICAvL+OCueODnuODm+OBruOBqOOBjeOBq+e4pumVt+eUu+WDj+OBr+eJueauiuOCr+ODqeOCueOCkuS7mOS4juOBmeOCi1xuICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhcIi12ZXJ0aWNhbFwiKSAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgICAgICAkKFwiLmZ1bGxzaXplX3NjcmVlbl9fcGhcIikuYWRkQ2xhc3MoXCItdmVydGljYWxcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvL+ino+WDj+W6puOBjOOBn+OCiuOBquOBhFNQ55So55S75YOP44Kv44Op44K5XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiLWhlaWdodDIwXCIpICYmIHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCkge1xuICAgICAgICAgICQoXCIuZnVsbHNpemVfc2NyZWVuX19waFwiKS5hZGRDbGFzcyhcIi1oZWlnaHQyMFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0YXRpb25faW5kZXggPSAkKHRoaXMpLmluZGV4KFxuICAgICAgICAgIFwiLmpzLWZ1bGxzaXplX3NjcmVlbl9fb3Blbi4tc3RhdGlvblwiXG4gICAgICAgICk7XG4gICAgICAgIHRndHNyYyA9IGAvYXNzZXRzL2ltZy9hcmNoaXZlL3BoL2Z1bGxzaXplL3N0YXRpb24vJHt3aW5kb3cuc3RhdGlvbkRhdGFbc3RhdGlvbl9pbmRleF0uaWR9XyR7d2luZG93LnN0YXRpb25EYXRhW3N0YXRpb25faW5kZXhdLmhhc2h9LmpwZ2A7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBhY3RpdmVfaW5kZXggPSAkKFwiLmFyY2hpdmVfX2xpc3RfX2l0ZW0uLWFjdGl2ZVwiKS5pbmRleChcbiAgICAgICAgICBcIi5hcmNoaXZlX19saXN0X19pdGVtXCJcbiAgICAgICAgKTtcbiAgICAgICAgdGd0c3JjID0gYC9hc3NldHMvaW1nL2FyY2hpdmUvcGgvZnVsbHNpemUvJHt3aW5kb3cuYXJjaGl2ZURhdGFbYWN0aXZlX2luZGV4XS5pZH1fJHt3aW5kb3cuYXJjaGl2ZURhdGFbYWN0aXZlX2luZGV4XS5oYXNofS5qcGdgO1xuICAgICAgfVxuXG4gICAgICB0aGF0LnNldENvbnRhaW5TaXplKCk7XG4gICAgICB0aGF0LmxvYWRGdWxsSW1hZ2UodGd0c3JjKTtcbiAgICB9KTtcblxuICAgIC8v44OV44Or44K144Kk44K644Oi44O844OA44OrIOOCr+ODreODvOOCulxuICAgICQoXCIuanMtZnVsbHNpemVfc2NyZWVuX19jbG9zZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICQoXCIuZnVsbHNpemVfc2NyZWVuXCIpLnJlbW92ZUNsYXNzKFwiLWFjdGl2ZVwiKTtcbiAgICAgIC8v56m644Gr44GX44Gm44GK44GP44Gu44Go44K544Kv44Ot44O844Or44KS44KC44Go44Gr5oi744GX44Gm44GK44GPXG4gICAgICAkKFwiLmZ1bGxzaXplX3NjcmVlbl9fcGhcIikuYXR0cihcInNyY1wiLCBcIlwiKS5yZW1vdmVDbGFzcyhcIi1hY3RpdmVcIik7XG4gICAgICAkKFwiLmZ1bGxzaXplX3NjcmVlbl9fcGhcIikucmVtb3ZlQ2xhc3MoXCItZml0X3dcIik7XG4gICAgfSk7XG5cbiAgICAvL2Z1bGxzaXplX3NjcmVlbuOBp+OBruODquOCteOCpOOCuuOCpOODmeODs+ODiFxuICAgICQod2luZG93KS5vbihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnNldENvbnRhaW5TaXplKCk7XG4gICAgfSk7XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIOODh+OCo+ODhuODvOODq+WGheOBp+OBruODmuODvOOCuOODjeODvOOCt+ODp+ODs1xuICAgICAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gICAgJChcIi5qcy1hcmNoaXZlX3BhZ2VuYXRlXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgLy/nj77lnKjjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjgpLoqr/jgbnjgotcbiAgICAgIGxldCBpbmRleCA9ICQoXCJbZGF0YS1saXN0aW5kZXhdLi1hY3RpdmVcIikuaW5kZXgoXCJbZGF0YS1saXN0aW5kZXhdXCIpO1xuICAgICAgY29uc3QgbWF4ID0gJChcIltkYXRhLWxpc3RpbmRleF1cIikubGVuZ3RoIC0gMTtcbiAgICAgIGNvbnN0IG1pbiA9IDA7XG5cbiAgICAgIC8vUHJldiBvciBOZXh0XG4gICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiZGF0YS1kaXJlY3Rpb25cIikgPT09IFwicHJldlwiKSB7XG4gICAgICAgIGluZGV4LS07XG5cbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgIGluZGV4ID0gbWF4O1xuICAgICAgICB9XG4gICAgICAgIGRpcmVjdGlvbiA9IFwicHJldlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXgrKztcblxuICAgICAgICBpZiAoaW5kZXggPiBtYXgpIHtcbiAgICAgICAgICBpbmRleCA9IG1pbjtcbiAgICAgICAgfVxuICAgICAgICBkaXJlY3Rpb24gPSBcIm5leHRcIjtcbiAgICAgIH1cblxuICAgICAgLy/jg5zjgr/jg7PjgpLmirzjgZfjgZ/jgZPjgajjgavjgZnjgoso44K/44OW44Gv5LiA44Gk44OQ44O844K444On44OzKVxuICAgICAgJChcIltkYXRhLWxpc3RpbmRleF1cIikuZXEoaW5kZXgpLnRyaWdnZXIoXCJjbGlja1wiKTtcbiAgICB9KTtcblxuICAgIC8v44Oa44O844K444ON44O844K344On44Oz77ya44K544Ov44Kk44OX54mIXG4gICAgbGV0IHN0YXJ0WCA9IDA7XG4gICAgbGV0IG1vdmVYID0gMDtcbiAgICBsZXQgaW5TY3JvbGwgPSBmYWxzZTtcbiAgICBsZXQgdGltZXIgPSBcIlwiO1xuICAgIGNvbnN0IHJhbmdlID0gNTA7XG4gICAgbGV0IGRpc3RhbmNlID0gMDtcblxuICAgIC8v44K544Kv44Ot44O844Or5Lit44OV44Op44KwXG4gICAgJChcIi5hcmNoaXZlX21vZGFsXCIpLm9uKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGluU2Nyb2xsID0gdHJ1ZTtcblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluU2Nyb2xsID0gZmFsc2U7XG4gICAgICB9LCA1MCk7XG4gICAgfSk7XG5cbiAgICAkKFwiLmFyY2hpdmVfX2RldGFpbFwiKS5vbihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHN0YXJ0WCA9IGUudG91Y2hlc1swXS5wYWdlWDtcbiAgICB9KTtcblxuICAgICQoXCIuYXJjaGl2ZV9fZGV0YWlsXCIpLm9uKFwidG91Y2htb3ZlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBtb3ZlWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICBkaXN0YW5jZSA9IG1vdmVYIC0gc3RhcnRYO1xuXG4gICAgICAvL+ODoOODvOODlumWk+OBp+OBsuOBo+OBpOOBj+OCiOOBhuOBq+OBmeOCi+OAgOKAu3Njcm9sbOS4reOBr+OBhuOBluOBj+OBquOCieOBquOBhOOCiOOBhuOBq+OCquODleOBq+OAglxuICAgICAgaWYgKG1vdmVYICE9PSAwICYmICFpblNjcm9sbCkge1xuICAgICAgICAkKFwiLmFyY2hpdmVfX2RldGFpbFwiKS5jc3Moe1xuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2Rpc3RhbmNlfXB4LDApYCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL+OCv+ODg+ODgeOCqOODs+ODieOBruaZguOBq+WHpueQhuOCkuWun+ihjFxuICAgICQoXCIuYXJjaGl2ZV9fZGV0YWlsXCIpLm9uKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vbW92ZeaZguOBruWkieW9ouOCkuODquOCu+ODg+ODiFxuICAgICAgJChcIi5hcmNoaXZlX19kZXRhaWxcIikuY3NzKHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLDApXCIsXG4gICAgICB9KTtcblxuICAgICAgLy/jgr/jg4Pjg5fjga7jgb/jgahyYW5nZeWkluOBr3JldHVybuOBmeOCi1xuICAgICAgaWYgKG1vdmVYID09PSAwIHx8IE1hdGguYWJzKGRpc3RhbmNlKSA8IHJhbmdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy/nj77lnKjjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjgpLoqr/jgbnjgotcbiAgICAgIGxldCBpbmRleCA9ICQoXCJbZGF0YS1saXN0aW5kZXhdLi1hY3RpdmVcIikuaW5kZXgoXCJbZGF0YS1saXN0aW5kZXhdXCIpO1xuICAgICAgY29uc3QgbWF4ID0gJChcIltkYXRhLWxpc3RpbmRleF1cIikubGVuZ3RoIC0gMTtcbiAgICAgIGNvbnN0IG1pbiA9IDA7XG5cbiAgICAgIGlmIChkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgaW5kZXgtLTtcblxuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgaW5kZXggPSBtYXg7XG4gICAgICAgIH1cbiAgICAgICAgZGlyZWN0aW9uID0gXCJwcmV2XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCsrO1xuXG4gICAgICAgIGlmIChpbmRleCA+IG1heCkge1xuICAgICAgICAgIGluZGV4ID0gbWluO1xuICAgICAgICB9XG4gICAgICAgIGRpcmVjdGlvbiA9IFwibmV4dFwiO1xuICAgICAgfVxuXG4gICAgICAkKFwiW2RhdGEtbGlzdGluZGV4XVwiKS5lcShpbmRleCkudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgc3RhcnRYID0gbW92ZVggPSBkaXN0YW5jZSA9IDA7IC8vRU5E5pmC44Gr5Yid5pyf5YyWXG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIGFjaGlldmVtZW506Kit5a6aXG4gIHNldEFjaGlldmVtZW50KCl7XG5cbiAgICAkKCcuYXJjaGl2ZV9fYWNjdHRsJykuZWFjaCgoaW5kZXgsIHRhcmdldCk9PntcbiAgICAgIGNvbnN0ICR0dGwgPSAkKHRhcmdldCk7XG4gICAgICBjb25zdCAkYmEgPSAkdHRsLmZpbmQoJy5hcmNoaXZlX192b2ljZW9wZW4nKTtcbiAgICAgIFxuICAgICAgLy9jb25zdCBfZGVsYXkgPSBNYXRoLnJhbmRvbSgpKjAuMyArIDAuNTtcbiAgICAgIGNvbnN0IF9kZWxheSA9IDAuMDUgKiBpbmRleCArIDAuNTtcblxuICAgICAgaWYodGhpcy5hY2hpZXZlbWVudExpc3RbaW5kZXhdKXtcbiAgICAgICAgJHR0bC5hZGRDbGFzcygnLWFjaGlldmUnKTtcbiAgICAgICAgXG4gICAgICAgIGdzYXAuc2V0KCRiYSwge29wYWNpdHk6MH0pO1xuICAgICAgICBnc2FwLnRvKCRiYSwge2R1cmF0aW9uOjAuMiwgZGVsYXk6X2RlbGF5LCBzY2FsZTowLjgsIHJvdGF0ZTotMSwgb3BhY2l0eToxfSk7XG4gICAgICAgIGdzYXAudG8oJGJhLCB7ZHVyYXRpb246MC4zNSwgZGVsYXk6X2RlbGF5KzAuMiwgc2NhbGU6MS4zLCByb3RhdGU6Mn0pO1xuICAgICAgICBnc2FwLnRvKCRiYSwge2R1cmF0aW9uOjAuNCwgZGVsYXk6X2RlbGF5KzAuNTUsIHNjYWxlOjEsIHJvdGF0ZTowLCBvcGFjaXR5OjEsIGVhc2U6J2JhY2sub3V0KDEuNCknfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByYW5kb21Wb2ljZU9wZW5BbmltZSgkYmEpe1xuICAgIGNvbnN0IF9kZWxheSA9IE1hdGgucmFuZG9tKCkgKiAxMDAwMCArIDIwMDA7XG5cbiAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICBnc2FwLnRvKCRiYSwge2R1cmF0aW9uOjAuMiwgc2NhbGU6MC4zNSwgcm90YXRpb246LTEwLCBvcGFjaXR5OjAsIGVhc2U6J3Bvd2VyMi5vdXQnfSk7XG4gICAgICBnc2FwLnRvKCRiYSwge2R1cmF0aW9uOjAuNCwgZGVsYXk6MC4yLCBzY2FsZToxLCByb3RhdGU6MCwgb3BhY2l0eToxLCBlYXNlOidiYWNrLm91dCgxLjQpJ30pO1xuICAgICAgXG4gICAgICAvL2dzYXAudG8oJGJhLCB7ZHVyYXRpb246MC4xLCByb3RhdGU6MTAsIHlveW86dHJ1ZSwgcmVwZWF0OjMsIGVhc2U6J3Bvd2VyMi5vdXQpJ30pO1xuXG4gICAgICBpZigkKCcuYXJjaGl2ZV9tb2RhbCcpLmhhc0NsYXNzKCctYWN0aXZlJykpe1xuICAgICAgICB0aGlzLnJhbmRvbVZvaWNlT3BlbkFuaW1lKCRiYSk7XG4gICAgICB9XG4gICAgfSwgX2RlbGF5KTtcbiAgfVxuXG5cbiAgLy8g6Z+z5aOw44Gu44K744OD44OIXG4gIHNldEF1ZGlvKGlkKXtcbiAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlO1xuICAgIHRoaXMuYXVkaW9GaWxlID0gYC9yZXdhcmQvdm9pY2UvJHtpZH0ubXAzYDtcblxuICAgIHRoaXMuJGRvbS5hcmNoaXZlX3ZvaWNlLm9uKCdjbGljaycsICgpPT57XG4gICAgICB0aGlzLnBsYXlBdWRpbygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kZG9tLmZ1bGxzaXplX3NjcmVlbl9fdm9pY2Uub24oJ2NsaWNrJywgKCk9PntcbiAgICAgIHRoaXMucGxheUF1ZGlvKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiRkb20uYXJjaGl2ZV92b2ljZS5jc3Moe2Rpc3BsYXk6J2Jsb2NrJ30pO1xuICAgIHRoaXMuJGRvbS5hcmNoaXZlX3ZvaWNlLnJlbW92ZUNsYXNzKCctcGxheWluZycpO1xuICAgIHRoaXMuJGRvbS5mdWxsc2l6ZV9zY3JlZW5fX3ZvaWNlLnJlbW92ZUNsYXNzKCctcGxheWluZycpO1xuICB9XG5cbiAgaGlkZUF1ZGlvKCl7XG4gICAgdGhpcy4kZG9tLmFyY2hpdmVfdm9pY2UuY3NzKHtkaXNwbGF5Oidub25lJ30pO1xuICAgIHRoaXMuJGRvbS5mdWxsc2l6ZV9zY3JlZW5fX3ZvaWNlLmNzcyh7ZGlzcGxheTonbm9uZSd9KTtcbiAgfVxuXG4gIHBsYXlBdWRpbygpe1xuICAgIGlmKHRoaXMuaXNQbGF5aW5nKSByZXR1cm47XG5cbiAgICB0aGlzLnZvaWNlID0gbmV3IEF1ZGlvKHRoaXMuYXVkaW9GaWxlKTtcbiAgICB0aGlzLnZvaWNlLmxvYWQoKTtcblxuICAgIGlmKHRoaXMudm9pY2UucmVhZHlTdGF0ZSA9PT0gNCl7XG4gICAgICB0aGlzLnZvaWNlLnBsYXkoKTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHRoaXMudm9pY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBlID0+IHtcbiAgICAgICAgdGhpcy52b2ljZS5wbGF5KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnZvaWNlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZSA9PiB7XG4gICAgICB0aGlzLiRkb20uYXJjaGl2ZV92b2ljZS5yZW1vdmVDbGFzcygnLXBsYXlpbmcnKTtcbiAgICAgIHRoaXMuJGRvbS5mdWxsc2l6ZV9zY3JlZW5fX3ZvaWNlLnJlbW92ZUNsYXNzKCctcGxheWluZycpO1xuICAgICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMudm9pY2UgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kZG9tLmFyY2hpdmVfdm9pY2UuYWRkQ2xhc3MoJy1wbGF5aW5nJyk7XG4gICAgdGhpcy4kZG9tLmZ1bGxzaXplX3NjcmVlbl9fdm9pY2UuYWRkQ2xhc3MoJy1wbGF5aW5nJyk7XG4gICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xuICB9XG5cbiAgLy8g44OV44Or44K544Kv44Oq44O844Oz44Gn44Gu6Z+z5aOw44Oc44K/44Oz5L2N572uXG4gIHNldEZTVm9pY2VQb3MoKXtcbiAgICBpZighdGhpcy5wcmVmQWNoaWV2ZW1lbnRMaXN0W3RoaXMudGd0XSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGhfaGFsZl93ID0gdGhpcy4kZG9tLmZ1bGxzaXplX3NjcmVlbl9fcGgud2lkdGgoKSAvIDI7XG4gICAgY29uc3QgcGhfaGFsZl9oID0gdGhpcy4kZG9tLmZ1bGxzaXplX3NjcmVlbl9fcGguaGVpZ2h0KCkgLyAyO1xuXG4gICAgbGV0IHR4LCB0eTtcblxuICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gNzY4KXtcbiAgICAgIHR4ID0gcGhfaGFsZl93ICsgODU7XG4gICAgICB0eSA9IHBoX2hhbGZfaDtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgIHR4ID0gd2luZG93LmlubmVyV2lkdGgvMiAtIDE1O1xuICAgICAgdHkgPSBwaF9oYWxmX2ggKyA2MDtcbiAgICB9XG5cbiAgICB0aGlzLiRkb20uZnVsbHNpemVfc2NyZWVuX192b2ljZS5jc3Moe3RyYW5zZm9ybTpgdHJhbnNsYXRlKCR7dHh9cHgsICR7dHl9cHgpYH0pO1xuICB9XG5cbiAgc2hvd0Z1bGxTY3JlZW5Wb2ljZSgpe1xuICAgIGlmKCF0aGlzLnByZWZBY2hpZXZlbWVudExpc3RbdGhpcy50Z3RdKSByZXR1cm47XG4gICAgdGhpcy4kZG9tLmZ1bGxzaXplX3NjcmVlbl9fdm9pY2UuY3NzKHtkaXNwbGF5OidibG9jayd9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pc01vYmlsZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUGFkfGlQb2R8QW5kcm9pZC8pO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmV2ZW50QmluZCgpO1xuICAgIH1cblxuICAgIGV2ZW50QmluZCgpIHtcbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgJCgnW2RhdGEtZ2FdJykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSAkKHRoaXMpLmRhdGEoJ2dhJyk7XG5cbiAgICAgICAgICAgICQodGhpcykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoYXQuc2VuZEdBKGxhYmVsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZW5kR0EobGFiZWwpIHtcbiAgICAgICAgaWYgKCFsYWJlbCB8fCB0eXBlb2YgbGFiZWwgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvL+OCueODnuODm+OBruWgtOWQiOOBr+ODkeODqeODoeODvOOCv+ODvOOBq19zcOOCkui/veWKoFxuICAgICAgICBjb25zdCBtb2JpbGVTdHIgPSB0aGlzLmlzTW9iaWxlID8gJ19zcCcgOiAnJztcblxuICAgICAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6IGxhYmVsWzBdICsgbW9iaWxlU3RyIHx8ICcnLFxuICAgICAgICAgICAgZXZlbnRfbGFiZWw6IGxhYmVsWzFdICsgbW9iaWxlU3RyIHx8ICcnLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8v44Kk44OZ44Oz44OI44KS6YCB5L+hXG4gICAgICAgIHdpbmRvdy5ndGFnKCdldmVudCcsICdjbGljaycsIGFyZ3MpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDYW52YXMgZnJvbSAnLi9fY2FudmFzLmVzNic7XG5pbXBvcnQgVUkgZnJvbSAnLi9fdWkuZXM2JztcbmltcG9ydCBBcmNoaXZlIGZyb20gJy4vX2FyY2hpdmUuZXM2JztcbmltcG9ydCBFdmVudFRyYWNrZXIgZnJvbSAnLi9fZXZlbnR0cmFja2VyLmVzNic7XG5cbmNvbnN0IGNhbnZhcyA9IG5ldyBDYW52YXMoKTtcbmNvbnN0IHVpID0gbmV3IFVJKCk7XG5jb25zdCBhcmNoaXZlID0gbmV3IEFyY2hpdmUoKTtcbmNvbnN0IGV2ZW50dHJhY2tlciA9IG5ldyBFdmVudFRyYWNrZXIoKTsiXSwic291cmNlUm9vdCI6IiJ9